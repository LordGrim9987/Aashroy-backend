(this.webpackJsonpaashroy=this.webpackJsonpaashroy||[]).push([[0],{194:function(e,t,n){},196:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},347:function(e,t,n){},349:function(e,t,n){"use strict";n.r(t);var s=n(2),r=n.n(s),a=n(67),c=n.n(a),o=(n(194),n(19)),i=n(14),l=(n(195),n(196),n(16)),d=n(24),u=n(4),b=n(1),j=r.a.createContext(null);function h(e){var t=e.children,n=Object(s.useState)(!1),r=Object(u.a)(n,2),a=r[0],c=r[1],o=Object(s.useState)(null),i=Object(u.a)(o,2),l=i[0],d=i[1];return Object(s.useEffect)((function(){}),[]),Object(b.jsx)(j.Provider,{value:{isLoggedIn:a,setIsLoggedIn:c,userData:l,setUserData:d},children:t})}var m=n(30),x=n.n(m),p=function(){return x.a.get("access_token")},f=function(e){x.a.set("access_token",e,{expires:30,path:"/"})},O=function(){return x.a.get("refresh_token")},g=function(){return x.a.get("refresh_token_ngo")},v=function(e){var t=e.access_token;t&&f(t)},y=function(e){var t=e.access_token;t&&N(t)},w=function(){return x.a.get("access_token_ngo")},N=function(e){x.a.set("access_token_ngo",e,{expires:30,path:"/"})},k=n(5),_=n.n(k),C=n(6),S=n(7);function A(e){var t=e.NavbarLinks,n=r.a.useState(!1),s=Object(u.a)(n,2),a=s[0],c=s[1];return Object(b.jsxs)("nav",{className:"flex flex-wrap items-center justify-between px-9 py-3 bg-blue-500 w-full",children:[Object(b.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:block lg:justify-start",children:[Object(b.jsx)("a",{className:"text-md font-bold leading-relaxed inline-block whitespace-nowrap uppercase text-white",href:"/",children:"AASHROY"}),Object(b.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return c(!a)},children:a?Object(b.jsx)(S.c,{}):Object(b.jsx)(S.b,{})})]}),Object(b.jsx)("div",{className:"lg:flex flex-grow items-center"+(a?" flex":" hidden"),id:"example-navbar-danger",children:Object(b.jsx)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto mt-5 md:mt-0",children:t.map((function(e,t){return Object(b.jsx)("li",{className:"nav-item my-3 md:my-0",children:Object(b.jsxs)("a",{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",href:e.link,children:[Object(b.jsx)("i",{className:"fab fa-facebook-square text-lg leading-lg text-white opacity-75"}),Object(b.jsxs)("span",{className:"ml-2 flex item-center",children:[Object(b.jsx)("span",{className:"mr-3",children:e.icon}),e.name]})]})},t)}))})})]})}var T=r.a.memo(A),P={email:"ashroyaurin@gmail.com",phone:"+911000010000",address:Object(b.jsxs)("span",{children:["Reg. Office at : ",Object(b.jsx)("br",{}),"XYZ Lane",Object(b.jsx)("br",{}),"YZ Street",Object(b.jsx)("br",{}),"AZ, RT-100000"]})},E="#",D="#",R="#",z="#",L=[{name:"Report Crime",link:"/report-crime"},{name:"NGO's near you",link:"/ngo/list"},{name:"Donate",link:"/ngo/list"}],I=function(e){var t=e.theme;return Object(b.jsxs)("div",{className:"flex flex-col w-full pt-xl pb-5 ".concat("dark"==t?"bg-black":"bg-white"," items-center border-gray-200 border-t-2"),children:[Object(b.jsxs)("div",{className:"mt-10 flex flex-row justify-start md:justify-evenly flex-wrap lg:gap-20 gap:10 text-left w-full md:px-20 px-10",children:[Object(b.jsxs)("div",{className:"flex flex-col text-left mx-2",children:[Object(b.jsx)("span",{className:"text-3xl text-blue-600 mb-4 font-bold",children:"A A S H R O Y"}),Object(b.jsx)("span",{className:"text-gray-700 mt-3 py-1 text-base hover:text-green ease-in duration-200",children:"A Charitable Journey For"}),Object(b.jsx)("span",{className:"text-black py-1 text-base hover:text-red-600 font-bold",children:"Homeless people"}),Object(b.jsxs)("span",{className:"text-black py-1 text-base",children:[" ","Developed By"," ",Object(b.jsx)("span",{className:"font-bold italic hover:text-red-600",children:"TEAM AURIN"})]}),Object(b.jsxs)("span",{className:"text-black py-1 text-base ",children:[" ","Under"," ",Object(b.jsx)("span",{className:"font-bold italic hover:text-red-600",children:"Jorhat Engineering College"})]}),Object(b.jsx)("div",{className:"text-base mt-8 text-gray-500 not-italic",children:"Follow us @"}),Object(b.jsxs)("div",{className:"flex flex-row text-left",children:[Object(b.jsx)("a",{className:"text-blue-900 py-2 text-2xl hover:text-blue-700",href:"www.gg.com",children:Object(b.jsx)("i",{className:"fab fa-facebook-f",children:Object(b.jsx)("a",{href:E,className:"ml-10",children:Object(b.jsx)(S.o,{})})})}),Object(b.jsx)("a",{className:"text-black py-2 text-2xl hover:text-red-700",href:"www.gg.com",children:Object(b.jsx)("i",{className:"fab fa-instagram",children:Object(b.jsx)("a",{href:R,className:"ml-10",children:Object(b.jsx)(S.x,{})})})}),Object(b.jsx)("a",{className:"text-blue-700 py-2 text-2xl hover:text-blue-500",href:"www.gg.com",children:Object(b.jsx)("i",{className:"fab fa-twitter",children:Object(b.jsxs)("a",{href:D,className:"ml-10",children:[" ",Object(b.jsx)(S.I,{})]})})}),Object(b.jsx)("a",{className:"text-red-700 py-2 text-2xl hover:text-red-500",href:"www.gg.com",children:Object(b.jsx)("i",{className:"fab fa-youtube",children:Object(b.jsxs)("a",{href:z,className:"ml-10",children:[" ",Object(b.jsx)(S.N,{})]})})})]})]}),Object(b.jsxs)("div",{className:"flex flex-col text-left italic mx-2",children:[Object(b.jsx)("div",{className:"text-base text-gray-400 w-full my-4 not-italic",children:"Services"}),L.map((function(e,t){return Object(b.jsxs)("a",{className:"text-black py-2 text-base hover:text-blue-600",href:e.link,children:[" ",e.name]},t)}))]}),Object(b.jsxs)("div",{className:"flex flex-col text-left italic mx-2",children:[Object(b.jsx)("div",{className:"text-base text-gray-400  mt-4 mb-4 not-italic",children:"Support"}),Object(b.jsxs)("a",{className:"text-black py-2 text-base hover:text-blue-600",href:"/about-us",children:[" ","About us"]}),Object(b.jsxs)("a",{className:"text-black py-2 text-base hover:text-blue-600",href:"/contact-us",children:[" ","Contact us"," "]}),Object(b.jsx)("div",{className:"text-black py-2 text-base hover:text-blue-600 items-center justify-left",children:Object(b.jsxs)("div",{className:"flex flex-row ",children:[Object(b.jsxs)("span",{className:"pr-5 pt-3",children:[Object(b.jsx)(S.a,{})," "]}),P.address]})}),Object(b.jsx)("div",{className:"text-black py-2 text-base hover:text-blue-600 ",children:Object(b.jsxs)("div",{className:"flex flex-row items-center justify-left ",children:[Object(b.jsxs)("span",{className:"pr-5 ",children:[Object(b.jsx)(S.C,{})," "]}),Object(b.jsx)("a",{href:"tel:".concat(P.phone),children:P.phone})]})}),Object(b.jsx)("div",{className:"text-black py-2 text-base hover:text-blue-600 ",children:Object(b.jsxs)("div",{className:"flex flex-row items-center justify-left ",children:[Object(b.jsxs)("span",{className:"pr-5 ",children:[Object(b.jsx)(S.m,{})," "]}),Object(b.jsx)("a",{href:"mailto:".concat(P.email),children:P.email})]})})]})]}),Object(b.jsx)("div",{className:"text-green-500 font-bold text-center mt-10",children:"\xa9 Copyright Reserved 2021"})]})},G=n(33),H=[{icon:Object(b.jsx)(S.w,{className:"text-base"}),name:"Home",link:"/general"},{icon:Object(b.jsx)(G.e,{className:"text-base"}),name:"Report Homeless",link:"/general/report-homeless"},{icon:Object(b.jsx)(S.n,{className:"text-base"}),name:"Report Crime",link:"/report-crime"},{icon:Object(b.jsx)(S.A,{className:"text-base"}),name:"Donate",link:"/ngo/list"}];var W=function(e){var t=e.children,n=Object(d.g)(),r=Object(d.f)(),a=Object(s.useContext)(j);return Object(s.useEffect)((function(){null==p()&&"/general/login"!=n.pathname&&(r.replace("/general/login",{forwardTo:n.pathname}),r.go(0))}),[a.isLoggedIn]),Object(b.jsxs)("div",{className:"flex flex-col w-full min-h-screen",children:[Object(b.jsx)(T,{NavbarLinks:H}),t,Object(b.jsx)(I,{})]})},B="https://aashroy.herokuapp.com",U=function(){var e=p(),t=O();return fetch("".concat(B,"/api/general-user/profile-details"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e," ").concat(t)}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e[0]})).catch((function(e){return console.log(e)})).finally((function(){}))},M=function(e){return fetch("".concat(B,"/api/general-user/profile-details/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return e[0]})).catch((function(e){return console.log(e)})).finally((function(){}))},F=function(e){var t=p(),n=O();return fetch("".concat(B,"/api/general-user/profile-details"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t," ").concat(n)},body:JSON.stringify({name:e})}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){}))},J=function(e,t){var n=p(),s=O();return fetch("".concat(B,"/api/general-user/donation/my-donations/").concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n," ").concat(s)}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){}))};var Y=function(e){var t=e.requestUpdate,n=e.userData,r=Object(s.useState)(""),a=Object(u.a)(r,2),c=a[0],o=a[1],i=Object(s.useState)(!1),l=Object(u.a)(i,2),d=l[0],j=l[1],h=Object(s.useState)(!1),m=Object(u.a)(h,2),x=m[0],p=m[1];return Object(b.jsxs)("div",{className:"relative p-3 w-full shadow-md flex flex-col md:w-1/2 md:flex-row-reverse md:justify-between items-center",children:[!d&&Object(b.jsx)("button",{onClick:function(){return j(!0)},className:"absolute float-right right-0 top-0 m-3 text-xl text-blue-500",children:Object(b.jsx)(S.l,{})}),Object(b.jsx)("div",{id:"user_profile_picture",className:"border-2 border-gray-300 h-32 w-32 md:mr-14 rounded",children:Object(b.jsx)("img",{src:n.profile_pic,alt:"user_profile",className:"w-full h-full"})}),Object(b.jsxs)("div",{id:"user_profile_details",className:"p-3 relative",children:[Object(b.jsx)("h2",{className:"text-blue-400 font-semibold text-2xl pb-3",children:"Profile Details"}),Object(b.jsxs)("div",{className:"",children:[Object(b.jsx)("span",{className:"text-sm text-gray-400",children:"Email :\xa0"}),Object(b.jsx)("span",{className:"",children:n.email})]}),Object(b.jsxs)("div",{className:"",children:[Object(b.jsx)("span",{className:"text-sm text-gray-400",children:"Name :\xa0"}),d?Object(b.jsx)("input",{value:c,className:"px-1 bg-gray-200",onChange:function(e){return o(e.target.value)}}):Object(b.jsx)("span",{children:n.name})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"text-sm text-gray-400",onMouseOver:function(){p(!0)},onMouseLeave:function(){p(!1)},children:"Contribution points :\xa0"}),Object(b.jsx)("span",{className:"text-red-400 font-bold",children:n.contribution_points})]}),Object(b.jsx)("span",{className:"text-xs absolute top-0 w-40 left-0 bg-blue-50 rounded-md p-2 ".concat(x?"opacity-100":"opacity-0"," "),children:"Reporting homeless gives you 5 points, giving additional information and donation completion gives you 10 and 20 points respectively."}),d&&Object(b.jsxs)("div",{className:"p-3 flex flex-row justify-center",children:[Object(b.jsx)("button",{onClick:function(){return j(!1)},className:"flex justify-center items-center border-2 border-blue-400 text-blue-500 rounded bg-white focus:bg-blue-700 focus:text-white m-1 px-2 py-1",children:"Cancel"}),Object(b.jsx)("button",{onClick:function(){j(!1),t(c)},className:"flex justify-center items-center text-white rounded bg-blue-500 focus:bg-blue-700 m-1 px-2 py-1",children:"Submit"})]})]})]})};var q=function(e){var t=e.donation;return Object(b.jsxs)("div",{className:" w-full p-3 my-2 shadow-md lg:w-1/2 lg:p-5",children:[Object(b.jsxs)("div",{className:"text-gray-500 flex flex-wrap items-center",children:[Object(b.jsx)(S.k,{className:"mr-2 text-green-500"}),Object(b.jsx)("span",{className:"uppercase mr-1 text-black",children:t.type}),Object(b.jsx)("span",{className:"mr-1",children:"donation to"}),Object(b.jsx)("a",{className:"text-blue-500",href:"ngo/profile/".concat(t.ngo._id),children:t.ngo.name})]}),Object(b.jsxs)("div",{className:"my-2 text-gray-500 text-sm",children:[Object(b.jsx)("span",{children:"Donated as : "}),Object(b.jsx)("span",{className:"text-black",children:t.donor_name})]}),Object(b.jsxs)("div",{className:"my-2 text-gray-500",children:[Object(b.jsx)("div",{className:" text-sm",children:"Details of donation : "}),Object(b.jsxs)("div",{className:"flex flex-wrap my-1",children:[Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("span",{className:"mr-1 text-sm",children:"Length :"}),Object(b.jsxs)("span",{className:"mr-1 text-black font-semibold",children:[t.dimensions[0],","]})]}),Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("span",{className:"mr-1 text-sm",children:"Width :"}),Object(b.jsxs)("span",{className:"mr-1 text-black font-semibold",children:[t.dimensions[1],","]})]}),Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("span",{className:"mr-1 text-sm",children:"Height :"}),Object(b.jsx)("span",{className:"mr-1 text-black font-semibold",children:t.dimensions[2]})]})]}),Object(b.jsx)("span",{className:"mr-1 text-sm",children:"Weight :"}),Object(b.jsx)("span",{className:"mr-1 text-black font-semibold",children:t.weight})]}),Object(b.jsxs)("div",{className:"text-gray-500 my-2",children:[Object(b.jsx)("span",{className:"text-sm mr-1",children:"Status :"}),Object(b.jsx)("span",{className:"uppercase text-green-500",children:t.is_accepted_by_ngo?t.is_accepted_by_ngo&&!t.is_donation_received?"accepted but not received yet":t.is_accepted_by_ngo&&t.is_donation_received?"donation received":void 0:"not accepted yet"})]})]})};var Z=function(){var e=Object(d.f)(),t=Object(s.useState)({name:"",profile_pic:"",email:"",contribution_points:0}),n=Object(u.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)([]),l=Object(u.a)(c,2),j=l[0],h=l[1],m=function(){var e=Object(C.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<1)){e.next=3;break}return i.b.error("Name cannot be empty"),e.abrupt("return");case 3:return e.prev=3,e.next=6,i.b.promise(F(t),{pending:"Uploading data",success:"Successfully uploaded",error:"Oops! Something went wrong"});case 6:a((function(e){var n=Object(o.a)({},e);return n.name=t,n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i.b.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U();case 3:return t=e.sent,a(t),e.next=7,J(0,1e3);case 7:n=e.sent,h(n.donations),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i.b.error("Something went wrong");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),Object(s.useEffect)((function(){x.a.set("general_user_data",JSON.stringify(r))}),[r]),Object(b.jsx)(W,{children:Object(b.jsxs)("div",{id:"user_profile",className:"m-3 flex flex-col justify-center items-center",children:[r&&Object(b.jsx)(Y,{requestUpdate:m,userData:r}),Object(b.jsxs)("div",{className:"w-full md:w-1/2 flex items-center py-3 px-4 mt-4 bg-blue-500 text-white rounded-full font-semibold text-md",children:[Object(b.jsx)(S.v,{className:"mx-2"})," Donation History"]}),j.map((function(e,t){return Object(b.jsx)(q,{donation:e},t)})),j.length<1&&Object(b.jsxs)("div",{className:"flex flex-col items-center",children:[Object(b.jsx)("span",{className:"text-gray-400",children:"You haven't made any donations yet"}),Object(b.jsx)("img",{src:"https://image.freepik.com/free-vector/flat-clothing-donation-illustration_23-2148815985.jpg",alt:"donation"})]}),Object(b.jsx)("button",{className:"my-3 px-3 py-1 border-2 border-red-600 rounded-md text-red-600 hover:bg-red-600 hover:text-white",onClick:function(){window.confirm("Are you sure to Logout ?")&&(x.a.remove("access_token"),e.push("/general/login"),e.go(0))},children:"Logout"})]})})},V=n(96),K=n(167),Q=n.n(K);function X(e){return $.apply(this,arguments)}function $(){return($=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tokenId,e.prev=1,e.next=4,fetch(B+"/api/auth/generaluser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenId:n})}).then((function(e){return e.json()}));case 4:return s=e.sent,r=s.access_token,a=s.userData,c=s.refresh_token,e.abrupt("return",{access_token:r,userData:a,refresh_token:c});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{access_token:null,userData:null,refresh_token:null});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,s=t.password,e.prev=1,e.next=4,fetch(B+"/api/auth/ngo/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s})}).then((function(e){return e.json()}));case 4:return r=e.sent,a=r.access_token,c=r.ngoData,o=r.refresh_token,e.abrupt("return",{access_token:a,ngoData:c,refresh_token:o});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{access_token:null,ngoData:null,refresh_token:null});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function ne(e){return se.apply(this,arguments)}function se(){return(se=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c,o,i,l,d,u;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,s=t.password,r=t.name,a=t.phone,c=t.website,o=t.about,i=t.location,e.prev=1,e.next=4,fetch(B+"/api/auth/ngo/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s,name:r,phone:a,website:c,about:o,location:i})}).then((function(e){return e.json()}));case 4:return l=e.sent,d=l.success,u=l.msg,e.abrupt("return",{success:d,msg:u,error:!1});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{success:!1,msg:null,error:!0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(C.a)(_.a.mark((function e(t){var n,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(V.a)(t),e.prev=1,e.next=4,fetch(B+"/api/auth/ngo/signout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:g()})}).then((function(e){return e.json()}));case 4:return n=e.sent,s=n.success,e.abrupt("return",{success:s});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function ce(e){var t=e.children,n=Object(s.useRef)(null),r=Object(s.useContext)(j),a=function(){var e=Object(C.a)(_.a.mark((function e(t){var n,s,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X({tokenId:t.tokenId});case 2:if(n=e.sent,s=n.access_token,a=n.userData,c=n.refresh_token,s){e.next=9;break}return alert("Something went wrong :("),e.abrupt("return");case 9:r.setIsLoggedIn(!0),f(s),o=c,x.a.set("refresh_token",o,{expires:30,path:"/"}),r.setUserData(a);case 13:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{children:Object(b.jsx)(Q.a,{clientId:"383681632751-r91i8q9ca65mlqtv9grtfirs7k8lfjjo.apps.googleusercontent.com",buttonText:"Login",onSuccess:a,onFailure:function(e){},cookiePolicy:"single_host_origin",redirectUri:"http://localhost:5000/",render:function(e){return Object(b.jsx)("div",{onClick:e.onClick,ref:n,children:t})}})})}var oe=n(168);function ie(e){Object(V.a)(e);var t=Object(d.g)(),n=Object(d.f)(),r=Object(s.useContext)(j);return Object(s.useEffect)((function(){null!=p()&&null!=O()&&(t.state&&t.state.forwardTo?(n.replace(t.state.forwardTo),n.go(0)):(n.replace("/general"),n.go(0)))}),[r.isLoggedIn]),Object(b.jsxs)("div",{className:"justify-center items-center flex flex-col min-h-screen min-w-max",children:[Object(b.jsx)("img",{className:"w-2/3 md:w-auto",src:"https://img.freepik.com/free-vector/mobile-login-concept-illustration_114360-135.jpg?size=338&ext=jpg",alt:"login"}),Object(b.jsx)(ce,{children:Object(b.jsxs)("button",{className:"flex flex-row items-center text-blue-700 border-black border-2 p-3 rounded hover:border-gray-500",children:["Sign In with Google \xa0 ",Object(b.jsx)(oe.a,{})]})})]})}var le=r.a.memo(ie),de=function(e){var t=e.placeholder,n=e.containerClass,s=e.state,r=e.head,a=e.noShadow;return Object(b.jsxs)("div",{className:"rounded ".concat(a?"":"shadow - md"," w-full bg-white flex justify-between ").concat(n),children:[r?Object(b.jsx)("div",{className:"flex justify-center flex-col pl-4 pr-3 select-none",children:r}):null,Object(b.jsx)("input",{placeholder:t,className:"px-4 py-3 w-full outline-none",value:s[0],onChange:function(e){s[1](e.target.value)}})]})},ue=n(45),be=n(69),je=n.n(be);var he=function(e,t,n){var s=0;Object.keys(e).map((function(r){try{je.a.imageFileResizer(e[r],300,300,"JPEG",100,0,(function(e){++s<n+1&&t((function(t){var n=Object(ue.a)(t);return n.push(e),n}))}),"base64")}catch(a){console.log(a)}}))},me=["male","female","others"],xe=["0-10","11-20","21-30","31-40","41-50","51-60","61-70","71-80","81-90","91-100"];function pe(e,t,n,s,r){var a=p(),c=O();return fetch("".concat(B,"/api/general-user/report-homeless"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a," ").concat(c)},body:JSON.stringify({numberOfPeople:t,geoLocation:n,reverseGeocodingAddress:s,media:r})}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e.recordId})).catch((function(e){return console.log(e)})).finally((function(){return e(!1)}))}function fe(e,t,n){var s=p(),r=O();return fetch("".concat(B,"/api/general-user/report-homeless/additional-info"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s," ").concat(r)},body:JSON.stringify({data:t,parentId:n})}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){return e(!1)}))}function Oe(){return new Promise((function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e(t)})):t(new Error)}))}var ge=n(58),ve=n.n(ge);n(203);ve.a.accessToken="pk.eyJ1IjoicmctNDA0IiwiYSI6ImNrczk5eG8yZzF1dmgydnBoZWgwNjZzZ2QifQ.hrxTaZwJoKGMxstCagV5zw";var ye=function(e){var t=e.region,n=e.markers,r=e.center,a=e.pins,c=e.regionColor,o=e.customPopup,i=Object(s.useRef)(null),l=Object(s.useRef)(null),d=Object(s.useState)(94.2122044),j=Object(u.a)(d,2),h=(j[0],j[1]),m=Object(s.useState)(26.743573),x=Object(u.a)(m,2),p=(x[0],x[1]),f=Object(s.useState)(13),O=Object(u.a)(f,2),g=O[0],v=O[1],y=Object(s.useState)([]),w=Object(u.a)(y,2),N=w[0],k=w[1];Object(s.useEffect)((function(){l.current||(h(t[0]),p(t[1]),l.current=new ve.a.Map({container:i.current,style:"mapbox://styles/mapbox/streets-v11",center:[t[0],t[1]],zoom:g}),l.current.addControl(new ve.a.NavigationControl,"top-right"))})),Object(s.useEffect)((function(){l.current.flyTo({center:[t[0],t[1]],essential:!0})}),[t]);return Object(s.useEffect)((function(){N.forEach((function(e){return e.remove()}));var e=[];n&&n.map((function(t){var n=document.createElement("div");n.setAttribute("title","Reported Area"),n.className="marker-custom",n.style.backgroundColor=c||"#0059ff75";var s=new ve.a.Marker(n).setLngLat([t.longitude,t.latitude]).setPopup(new ve.a.Popup({offset:25}).setHTML(o?o(t):"<p>".concat(t.address,"</p>"))).addTo(l.current);e.push(s)})),k(e)}),[n]),Object(s.useEffect)((function(){a&&a.map((function(e){(new ve.a.Marker).setLngLat([e.longitude,e.latitude]).setPopup(new ve.a.Popup({offset:25}).setHTML("<h3></h3><p>".concat(e.address,"</p>"))).addTo(l.current)}))}),[a]),Object(s.useEffect)((function(){l.current&&(l.current.on("move",(function(){h(l.current.getCenter().lng.toFixed(7)),p(l.current.getCenter().lat.toFixed(7)),v(l.current.getZoom().toFixed(2))})),r&&l.current.on("dragend",(function(){r[1]([l.current.getCenter().lng.toFixed(7),l.current.getCenter().lat.toFixed(7)])})))}),[]),Object(b.jsx)("div",{ref:i,className:"map-container"})},we=function(){var e=Object(C.a)(_.a.mark((function e(t){var n,s,r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Trying RGC"),n=new URL("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t[0],",").concat(t[1],".json")),s={types:"locality",access_token:"pk.eyJ1IjoicmctNDA0IiwiYSI6ImNrczk5eG8yZzF1dmgydnBoZWgwNjZzZ2QifQ.hrxTaZwJoKGMxstCagV5zw"},n.search=new URLSearchParams(s).toString(),e.next=7,fetch(n);case 7:return r=e.sent,e.next=10,r.json();case 10:return a=e.sent,e.abrupt("return",a.features[0].place_name);case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Ne=(n(204),function(e){var t=e.region,n=e.onCordinateChange,r=e.onRGCResponse,a=Object(s.useState)([0,0]),c=Object(u.a)(a,2),o=c[0],i=c[1];return Object(s.useEffect)((function(){n(o),Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(o);case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))()}),[o]),Object(b.jsxs)("div",{className:"h-full w-full relative",children:[Object(b.jsx)("div",{className:"pointer-events-none absolute z-50 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:Object(b.jsx)(S.z,{size:40,color:"red",className:"mb-9"})}),Object(b.jsx)(ye,{region:t,center:[o,i]})]})});var ke=function(){var e=Object(d.f)(),t=Object(s.useState)([]),n=Object(u.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),l=Object(u.a)(c,2),j=l[0],h=l[1],m=Object(s.useState)(1),x=Object(u.a)(m,2),p=x[0],f=x[1],O=Object(s.useState)({latitude:26.7459721,longitude:94.2463553}),g=Object(u.a)(O,2),v=g[0],y=g[1],w=Object(s.useState)(""),N=Object(u.a)(w,2),k=N[0],A=N[1],T=Object(s.useState)(!1),P=Object(u.a)(T,2),E=P[0],D=P[1],R=function(){var t=Object(C.a)(_.a.mark((function t(){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.length<1)){t.next=3;break}return i.b.error("At least one image has to be included."),t.abrupt("return");case 3:return D(!0),t.next=6,i.b.promise(pe(D,p,Object(o.a)(Object(o.a)({},v),{},{address:j}),k,r),{pending:"Uploading data",success:"Successfully uploaded",error:"Oops! Something went wrong"});case 6:n=t.sent,e.push("/general/report-homeless/additional-info",{parentId:n});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:t=e.sent,y({latitude:t.coords.latitude,longitude:t.coords.longitude});case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(b.jsx)(W,{children:Object(b.jsxs)("div",{id:"report-container",className:"flex flex-col lg:flex-row-reverse h-full w-full",children:[Object(b.jsx)("div",{id:"map-container",className:" h-96 lg:h-screen w-full lg:w-2/3 text-white",children:Object(b.jsx)("div",{className:"h-full bg-red-100",children:Object(b.jsx)(Ne,{region:[v.longitude,v.latitude],onCordinateChange:function(e){y({latitude:parseFloat(e[1]),longitude:parseFloat(e[0])})},onRGCResponse:function(e){A(e)}})})}),Object(b.jsxs)("div",{id:"report-form-container",className:"flex flex-col lg:w-1/3 p-3 md:px-10",children:[Object(b.jsx)("h1",{className:"text-blue-500 rounded my-3 mt-0 py-3 text-2xl font-bold",children:"Report Homeless"}),Object(b.jsx)("div",{className:"mb-4 italic text-gray-500",children:"Help us to detect and map the homeless persons through this form."}),Object(b.jsx)("label",{className:"text-gray-400 text-sm",children:"Address : "}),Object(b.jsx)(de,{state:[j,h],placeholder:"Address",containerClass:""}),Object(b.jsxs)("div",{className:"flex flex-col pb-2 my-3",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm",children:"Number of people : "}),Object(b.jsx)("input",{disabled:E,type:"number",min:"0",className:"shadow-md p-3 rounded outline-none",value:p,onChange:function(e){return f(e.target.value)}})]}),r.length>0&&Object(b.jsx)("div",{className:" p-1 flex overflow-x-scroll",children:r.map((function(e,t){return Object(b.jsx)("img",{className:"m-1",src:e,alt:"previews"},t)}))}),r.length<3&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{for:"file-upload",className:"flex justify-center cursor-pointer items-center text-gray-700 border-2 h-20 border-dotted my-3 p-3",children:["Upload photos\xa0",Object(b.jsx)(S.q,{})]}),Object(b.jsx)("input",{id:"file-upload",type:"file",className:"hidden",placeholder:"photo",multiple:!0,accept:"image/*",onChange:function(e){if(!E){var t=e.target.files;t&&he(t,a,3)}},max:"10"})]}),Object(b.jsxs)("span",{className:"text-sm text-gray-600",children:["* A maximum of ",3," images can be uploaded at once"]}),Object(b.jsxs)("button",{onClick:R,className:"flex justify-center items-center text-white rounded bg-blue-500 focus:bg-blue-700 my-3 p-3 text-lg",disabled:E,children:["Next\xa0",Object(b.jsx)(S.d,{className:"text-md"})]})]})]})})};function _e(e){var t=e.canEdit,n=e.name,s=e.setName,r=e.gender,a=e.setGender,c=e.ageGroup,o=e.setAgeGroup,i=e.photo,l=e.setPhoto,d=e.index,u=e.deleteHandler;return Object(b.jsxs)("div",{className:"relative border-2 mb-3 rounded w-full md:max-w-2xl lg:max-w-5xl lg:min-h-64 p-3 flex flex-col lg:flex-row-reverse lg:justify-evenly lg:items-center"+(t?" border-blue-300":" border-gray-200"),children:[!t&&Object(b.jsx)("button",{onClick:function(){return u(d)},className:" absolute z-10 top-0 right-0",children:Object(b.jsx)(G.a,{className:"text-red-500 text-3xl"})}),Object(b.jsx)("div",{id:"photo-container-addform",className:"",children:i.length>0?Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsx)("img",{className:"m-1",src:i,alt:"previews"})}):t&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{for:"file-upload",className:"lg:w-full flex justify-center cursor-pointer items-center text-gray-700 border-2 h-20 border-dotted border-gray-400 rounded p-3",children:["Upload a Photo\xa0",Object(b.jsx)(S.q,{})]}),Object(b.jsx)("input",{id:"file-upload",type:"file",className:"hidden",placeholder:"photo",accept:"image/*",onChange:function(e){var t=e.target.files;t&&he(t,l,1)},max:"10"})]})}),Object(b.jsxs)("div",{id:"other-details-container-addform",className:"lg:w-1/3",children:[Object(b.jsx)("input",{placeholder:"Enter Name",value:n,onChange:function(e){return s(e.target.value)},className:"rounded px-4 py-3 w-full my-3"+(t?" shadow-md":" border-2 border-gray-200"),readOnly:!t}),Object(b.jsxs)("div",{className:"flex p-3 w-full rounded mb-3"+(t?" shadow-md":" border-2 border-gray-200"),children:[Object(b.jsxs)("label",{for:"select-gender",className:"flex items-center w-full text-blue-700",children:[t?"Select Gender":"Gender","\xa0",Object(b.jsx)(S.e,{className:"text-sm"})]}),Object(b.jsx)("select",{id:"select-gender",name:"gender",value:r,onChange:function(e){return a(e.target.value)},className:"bg-white",disabled:!t,children:me.map((function(e,t){return Object(b.jsx)("option",{className:"bg-white",read:!0,value:e,children:e},t)}))})]}),Object(b.jsxs)("div",{className:"flex p-3 w-full rounded mt-3"+(t?" shadow-md":" border-2 border-gray-200"),children:[Object(b.jsxs)("label",{for:"age-group",className:"flex items-center w-full text-blue-700",children:[t?"Select Age Group":"Age Group","\xa0",Object(b.jsx)(S.e,{className:"text-sm"})]}),Object(b.jsx)("select",{id:"age-group",name:"age-group",value:c,onChange:function(e){return o(e.target.value)},className:"",disabled:!t,children:xe.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))})]})]})]})}var Ce=r.a.memo(_e);var Se=function(){var e=Object(d.g)(),t=Object(d.f)(),n=Object(s.useState)([]),r=Object(u.a)(n,2),a=r[0],c=r[1],o=Object(s.useState)(""),l=Object(u.a)(o,2),j=l[0],h=l[1],m=Object(s.useState)("male"),x=Object(u.a)(m,2),p=x[0],f=x[1],O=Object(s.useState)("31-40"),g=Object(u.a)(O,2),v=g[0],y=g[1],w=Object(s.useState)(""),N=Object(u.a)(w,2),k=N[0],S=N[1],A=Object(s.useState)(""),T=Object(u.a)(A,2),P=T[0],E=T[1],D=Object(s.useState)(!1),R=Object(u.a)(D,2),z=R[0],L=R[1],I=function(){var e=Object(C.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<1)){e.next=3;break}return i.b.error("Add at least one person to submit"),e.abrupt("return");case 3:return L(!0),e.next=6,i.b.promise(fe(L,a,P),{pending:"Uploading data",success:"Successfully uploaded",error:"Oops! Something went wrong"});case 6:t.replace("/general");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){c((function(t){var n=Object(ue.a)(t);return n.splice(e,1),n}))};return Object(s.useEffect)((function(){e.state&&e.state.parentId?E(e.state.parentId):t.replace("/general/report-homeless")}),[]),Object(b.jsx)(W,{children:Object(b.jsx)("div",{className:"flex justify-center w-full",children:Object(b.jsxs)("div",{className:"flex flex-col w-full p-3 items-center",children:[Object(b.jsx)("div",{className:"mb-4 italic text-gray-500",children:"Please enter some additional information about the homeless persons you marked in the previous form."}),a.length>0&&a.map((function(e,t){return Object(b.jsx)(Ce,{index:t,canEdit:!1,name:e.name,gender:e.gender,ageGroup:e.ageGroup,photo:e.photo,deleteHandler:H},t)})),Object(b.jsx)("hr",{}),Object(b.jsx)(Ce,{canEdit:!0,name:j,setName:h,gender:p,setGender:f,ageGroup:v,setAgeGroup:y,photo:k,setPhoto:S}),Object(b.jsxs)("button",{onClick:function(){j.length<1?i.b.error("Name cannot be empty."):(c((function(e){var t=Object(ue.a)(e);return e.push({name:j,gender:p,ageGroup:v,photo:k}),t})),h(""),f("male"),y("31-40"),S(""))},className:"my-3 w-full lg:w-2/3 justify-center p-3 flex items-center hover:bg-blue-600 hover:text-white border-blue-500 border-2 rounded text-blue-500",children:[Object(b.jsx)(G.e,{})," \xa0 Add Person"]}),Object(b.jsxs)("button",{onClick:I,disabled:z,className:" p-3 w-full lg:w-2/3 rounded flex justify-center font-semibold sticky bottom-0 items-center focus:bg-blue-600 bg-blue-500 text-white",children:["Submit\xa0(",a.length," ",a.length<2?"entry":"entries",")"]})]})})})};var Ae=function(e){var t=e.name,n=e.email,s=e.phone,r=e.website;return Object(b.jsxs)("div",{className:"p-3 shadow-md rounded md:mx-3",children:[Object(b.jsx)("h1",{className:"font-semibold text-blue-600 uppercase",children:"Donate to : "}),Object(b.jsxs)("div",{className:"py-1",children:[Object(b.jsx)("span",{className:"text-sm text-gray-400",children:"Name :\xa0"}),Object(b.jsx)("span",{className:"",children:t})]}),Object(b.jsxs)("div",{className:"py-1",children:[Object(b.jsx)("span",{className:"text-sm text-gray-400",children:"Email :\xa0"}),Object(b.jsx)("a",{href:"mailto:".concat(n),className:"text-blue-400",children:n})]}),Object(b.jsxs)("div",{className:"py-1",children:[Object(b.jsx)("span",{className:"text-sm text-gray-400",children:"Phone :\xa0"}),Object(b.jsx)("a",{href:"tel:".concat(s),className:"text-blue-400",children:s})]}),Object(b.jsxs)("div",{className:"py-1",children:[Object(b.jsx)("span",{className:"text-sm text-gray-400",children:"Website :\xa0"}),Object(b.jsx)("a",{href:r,target:"_blank",className:"text-blue-400",children:r})]})]})},Te=["clothes","food","medicine","money","others"],Pe=function(e,t,n,s,r,a,c,o){var i=p(),l=O();return fetch("".concat(B,"/api/general-user/donation"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i," ").concat(l)},body:JSON.stringify({donorName:t,contactNumber:n,type:s,ngoId:r,media:a,dimensions:c,weight:o})}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){e(!1)}))},Ee=function(e){var t=p(),n=O();return fetch("".concat(B,"/api/general-user/donation/ngo-details/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t," ").concat(n)}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){}))};var De=function(){var e=Object(d.h)().ngoId,t=Object(d.f)(),n=Object(s.useState)(""),r=Object(u.a)(n,2),a=r[0],c=r[1],o=Object(s.useState)(),l=Object(u.a)(o,2),j=l[0],h=l[1],m=Object(s.useState)(Te[0]),p=Object(u.a)(m,2),f=p[0],O=p[1],g=Object(s.useState)([]),v=Object(u.a)(g,2),y=v[0],w=v[1],N=Object(s.useState)(""),k=Object(u.a)(N,2),A=k[0],T=k[1],P=Object(s.useState)(""),E=Object(u.a)(P,2),D=E[0],R=E[1],z=Object(s.useState)(""),L=Object(u.a)(z,2),I=L[0],G=L[1],H=Object(s.useState)(""),B=Object(u.a)(H,2),U=B[0],M=B[1],F=Object(s.useState)(!1),J=Object(u.a)(F,2),Y=J[0],q=J[1],Z=Object(s.useState)(!1),V=Object(u.a)(Z,2),K=V[0],Q=V[1],X=Object(s.useState)({}),$=Object(u.a)(X,2),ee=$[0],te=$[1],ne=function(){var n=Object(C.a)(_.a.mark((function n(){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a.length<1)){n.next=5;break}return i.b.error("Name cannot be empty"),n.abrupt("return");case 5:if(!(!j||j.length<8||j.length>13)){n.next=10;break}return i.b.error("Enter a valid contact number"),n.abrupt("return");case 10:if(!(!D||!A||!I||D.length<1||A.length<1||I.length<1)){n.next=15;break}return i.b.error("Enter valid dimensions"),n.abrupt("return");case 15:if(!(U.length<1)){n.next=18;break}return i.b.error("Weight cannot be empty"),n.abrupt("return");case 18:return q(!0),n.prev=19,n.next=22,i.b.promise(Pe(q,a,j,f,e,y,[I,D,A],U),{pending:"Uploading data",success:"Successfully uploaded",error:"Oops! Something went wrong"});case 22:n.sent,n.next=28;break;case 25:n.prev=25,n.t0=n.catch(19),i.b.error(n.t0);case 28:t.replace("/general");case 29:case"end":return n.stop()}}),n,null,[[19,25]])})));return function(){return n.apply(this,arguments)}}();return Object(s.useEffect)((function(){var n=x.a.get("general_user_data");n=JSON.parse(n).name,c(n),Object(C.a)(_.a.mark((function n(){var s;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee(e);case 3:s=n.sent,te(s[0]),console.log(s[0]),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),i.b.error(n.t0),t.replace("/general");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()}),[]),Object(b.jsx)(W,{children:Object(b.jsxs)("div",{className:"flex flex-col justify-center item-center p-3 md:flex-row-reverse md:justify-around w-full",children:[Object(b.jsxs)("div",{id:"ngo-details-container",className:" flex flex-col md:w-1/2",children:[Object(b.jsx)("div",{className:"h-96 p-3",children:ee&&ee.geo_location&&Object(b.jsx)(ye,{region:[ee.geo_location.longitude,ee.geo_location.latitude],pins:[ee.geo_location]})}),Object(b.jsx)(Ae,{name:ee.name,phone:ee.phone,email:ee.email,website:ee.website})]}),Object(b.jsxs)("div",{id:"donation-form",className:"my-3 flex flex-col rounded shadow-md p-3 md:w-1/2",children:[Object(b.jsx)("h1",{className:"text-blue-500 rounded my-3 mt-0 py-3 text-2xl font-bold",children:"Donate to Homeless"}),Object(b.jsx)("div",{className:"mb-4 italic text-gray-500",children:'Dear User, Lend a hand towards these homeless as much as you can.. As you know "The world is dangerous place, not because of those who do evil, but those who look on and do nothing". You can donate anything through any one of your trusted NGOs.'}),Object(b.jsxs)("div",{className:"flex flex-col pb-2",children:[Object(b.jsxs)("div",{className:"flex justify-between mb-1",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm",children:"Name :"}),Object(b.jsxs)("button",{title:"Donate Anonymously",onClick:function(){c(K?"":"Anonymous"),Q((function(e){return!e}))},className:"px-2 flex"+(K?" text-purple-500":" "),children:[Object(b.jsx)("span",{className:"text-sm text-gray-400 mr-1 italic",children:"click to donate anonymously"}),Object(b.jsx)(S.r,{className:"text-2xl"})]})]}),Object(b.jsx)("input",{disabled:Y||K,type:"text",className:"border-2 border-gray-100 p-2 rounded",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(b.jsxs)("div",{className:"flex flex-col pb-2",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm",children:"Contact Number : "}),Object(b.jsx)("input",{disabled:Y,type:"number",min:"0",className:"border-2 border-gray-100 p-2 rounded",value:j,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsxs)("div",{className:"flex pb-3 pt-2 item-center",children:[Object(b.jsx)("label",{for:"select-gender",className:"text-gray-400 text-sm",children:"Donation type :\xa0"}),Object(b.jsx)("select",{id:"select-gender",name:"gender",value:f,onChange:function(e){return O(e.target.value)},className:"bg-white text-sm",disabled:Y,children:Te.map((function(e,t){return Object(b.jsx)("option",{className:"bg-white",read:!0,value:e,children:e},t)}))})]}),Object(b.jsxs)("div",{className:"flex item-center justify-between pb-2",children:[Object(b.jsxs)("div",{className:"flex flex-col pb-2 w-1/4 mr-1",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm",children:"Length : "}),Object(b.jsx)("input",{disabled:Y,type:"text",className:"border-2 border-gray-100 p-2 rounded",value:I,onChange:function(e){return G(e.target.value)}})]}),Object(b.jsxs)("div",{className:"flex flex-col pb-2 w-1/4 mr-1",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm",children:"Width : "}),Object(b.jsx)("input",{disabled:Y,type:"text",className:"border-2 border-gray-100 p-2 rounded",value:D,onChange:function(e){return R(e.target.value)}})]}),Object(b.jsxs)("div",{className:"flex flex-col pb-2 w-1/4 ml-1",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm",children:"Height : "}),Object(b.jsx)("input",{disabled:Y,type:"text",className:"border-2 border-gray-100 p-2 rounded",value:A,onChange:function(e){return T(e.target.value)}})]})]}),Object(b.jsxs)("div",{className:"flex flex-col pb-2",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm",children:"Approximate weight :"}),Object(b.jsx)("input",{disabled:Y,type:"text",className:"border-2 border-gray-100 p-2 rounded",value:U,onChange:function(e){return M(e.target.value)}})]}),y.length>0&&Object(b.jsx)("div",{className:"my-2 p-3 flex overflow-x-scroll",children:y.map((function(e,t){return Object(b.jsx)("img",{className:"m-1",src:e,alt:"previews"},t)}))}),y.length<3&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{for:"file-upload",className:"flex justify-center cursor-pointer items-center text-gray-700 border-2 h-20 border-dotted my-2 p-3",children:["Upload photos\xa0",Object(b.jsx)(S.q,{})]}),Object(b.jsx)("input",{id:"file-upload",type:"file",className:"hidden",placeholder:"photo",multiple:!0,accept:"image/*",onChange:function(e){if(!Y){var t=e.target.files;t&&he(t,w,3)}},max:"10"})]}),Object(b.jsxs)("span",{className:"text-sm mx-3 text-gray-600",children:["* A maximum of ",3," images can be uploaded at once"]}),Object(b.jsx)("button",{onClick:ne,className:"flex justify-center items-center text-white rounded  focus:bg-blue-700 m-3 p-3 text-lg"+(K?" bg-purple-500":" bg-blue-500"),children:"Submit"})]})]})})},Re=n.p+"static/media/logo.8e8a8260.svg",ze=function(e){var t=e.isSolid,n=Object(s.useState)(!1),r=Object(u.a)(n,2),a=r[0],c=r[1],o=Object(s.useState)([0,0]),i=Object(u.a)(o,2),d=(i[0],i[1]),h=Object(s.useContext)(j);Object(s.useEffect)((function(){console.log(h)}),[h]);var m=function(){c(!a)};return Object(s.useEffect)((function(){var e=function(){d([window.innerWidth,window.innerHeight]),c(!1)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(b.jsxs)("nav",{className:"py-1 z-50 ".concat(a?"bg-blue-800":null," ").concat(t?"bg-blue-600":null),children:[Object(b.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsxs)("div",{className:"flex space-x-4",children:[Object(b.jsx)("div",{children:Object(b.jsxs)(l.b,{to:"/",className:"flex items-center py-4 px-3 text-gray-100",children:[Object(b.jsx)("img",{src:Re,alt:"logo",className:" h-8 w-8 mr-2 text-blue-500"+(t?" bg-white p-1 rounded-full":"")}),Object(b.jsx)("span",{className:"font-bold",children:"Aashroy"})]})}),Object(b.jsxs)("div",{className:"hidden md:flex items-center space-x-1",children:[Object(b.jsx)(l.b,{to:"/about-us",className:"py-4 px-3 text-gray-100 hover:text-gray-200",children:"About Us"}),Object(b.jsx)(l.b,{to:"/contact-us",children:Object(b.jsx)("a",{to:"#",className:"py-4 px-3 text-gray-100 hover:text-gray-200",children:"Contact Us"})})]})]}),Object(b.jsxs)("div",{className:"hidden md:flex items-center space-x-1",children:[h.isLoggedIn?Object(b.jsx)(l.b,{to:"/general",children:Object(b.jsx)("a",{to:"#",className:"py-4 px-3 text-gray-100",children:"My Account"})}):null,h.isLoggedIn?null:Object(b.jsx)(l.b,{to:"/general/login",children:Object(b.jsx)("a",{className:"py-2 px-3 mx-2 bg-yellow-400 text-yellow-900 rounded hover:bg-yellow-300 transition duration-100",children:"User Login"})}),Object(b.jsx)(l.b,{to:"/ngo/login",children:Object(b.jsx)("a",{className:"py-2 px-3 bg-black text-white rounded hover:bg-yellow-300 transition duration-100",children:"NGO Login"})})]}),Object(b.jsx)("div",{className:"md:hidden flex items-center",children:Object(b.jsx)("button",{onClick:m,children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{color:"#fff"},children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16",color:"white"})})})})]})}),Object(b.jsxs)("div",{className:"bg-blue-800 h-screen text-white pt-10 ml-6 ".concat(a?null:"hidden"),children:[Object(b.jsx)(l.b,{to:"/about-us",children:Object(b.jsx)("a",{className:"block py-2 px-4 text-lg hover:bg-gray-200 mb-4 border-b-2 border-white",onClick:m,children:"About Us"})}),Object(b.jsx)(l.b,{to:"/contact-us",children:Object(b.jsx)("a",{className:"block py-2 px-4 text-lg hover:bg-gray-200 mb-4  border-b-2 border-white",onClick:m,children:"Contact Us"})}),h.isLoggedIn?Object(b.jsx)(l.b,{to:"/general",children:Object(b.jsx)("a",{className:"block py-2 px-4 text-lg hover:bg-gray-200 mb-4  border-b-2 border-white",onClick:m,children:"My Account"})}):null,h.isLoggedIn?null:Object(b.jsx)(l.b,{to:"/general/login",children:Object(b.jsx)("a",{className:"block py-2 px-4 text-lg hover:bg-gray-200 mb-4  border-b-2 border-white",onClick:m,children:"User Login"})}),Object(b.jsx)(l.b,{to:"/ngo/login",children:Object(b.jsx)("a",{className:"block py-2 px-4 text-lg hover:bg-gray-200 mb-4  border-b-2 border-white",onClick:m,children:"NGO Login"})})]}),Object(b.jsx)("div",{})]})};function Le(e){var t=e.children,n=e.navbarSolid;return Object(b.jsxs)("div",{className:"relative",children:[Object(b.jsx)("div",{className:"absolute top-0 left-0 right-0 z-50",children:Object(b.jsx)(ze,{isSolid:n})}),t,Object(b.jsx)(I,{theme:""})]})}var Ie=function(e){var t=e.donations,n=e.showImage;return Object(b.jsxs)("div",{className:"flex flex-col w-full p-2 rounded",children:[Object(b.jsxs)("div",{className:"flex items-center px-4 py-2 bg-blue-100 rounded-full text-blue-700 font-semibold",children:["Donations ",Object(b.jsx)(S.u,{className:"text-pink-500 mx-1"})]}),t.length<1&&Object(b.jsx)("span",{className:"p-3",children:"No Donations yet \ud83d\ude2d"}),t.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex flex-wrap py-3 w-full items-center text-gray-500",id:"donation-line",children:[Object(b.jsx)(S.t,{className:"text-pink-500 mx-2"}),Object(b.jsx)("span",{className:"h-8 w-8 mx-2 rounded-full bg-gray-500",children:Object(b.jsx)("a",{href:"/general/profile/".concat(e.donor._id),children:Object(b.jsx)("img",{className:"h-full rounded-full",src:e.donor.profile_pic||"",alt:"mini_profile"})})}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("a",{href:"/general/profile/".concat(e.donor._id),children:Object(b.jsx)("span",{className:"font-bold flex mr-1 text-blue-500",children:e.donor_name})}),Object(b.jsxs)("div",{children:["donated",Object(b.jsx)("span",{className:"mx-1 text-black font-semibold",children:e.type}),"to",Object(b.jsx)("a",{className:"text-blue-500 ml-1",href:"ngo/profile/".concat(e.ngo._id),children:e.ngo.name})]})]})]}),n?Object(b.jsx)("div",{className:"flex mb-2",children:e.media_urls.map((function(e,t){return Object(b.jsx)("img",{className:"h-24 mx-1",src:e.url,alt:"donationphotos"},t)}))}):Object(b.jsx)(b.Fragment,{})]},e._id)}))]})};var Ge=function(e){var t=e.contributors;return Object(b.jsxs)("div",{className:"flex flex-col w-full h-full p-2 rounded",children:[Object(b.jsxs)("div",{className:"flex items-center px-4 py-2 bg-blue-100 rounded-full text-blue-700 font-semibold",children:["Top Contributors ",Object(b.jsx)(S.u,{className:"text-pink-500 mx-1"})]}),t.length<1&&Object(b.jsx)("span",{className:"p-3",children:"No Data yet \ud83d\ude2d"}),t.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"flex flex-wrap py-3 w-full items-center text-gray-500",children:[Object(b.jsx)(S.i,{className:"text-red-600 mx-2"}),Object(b.jsx)("span",{children:t+1}),Object(b.jsx)("span",{className:"h-8 w-8 mx-2 rounded-full bg-gray-500",children:Object(b.jsx)("a",{href:"/general/profile/".concat(e._id),children:Object(b.jsx)("img",{className:"h-full rounded-full",src:e.profile_pic||"",alt:"mini_profile"})})}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)("a",{href:"/general/profile/".concat(e._id),children:Object(b.jsx)("span",{className:"font-bold flex mr-1 text-blue-500",children:e.name})}),Object(b.jsxs)("div",{className:"text-red-500",children:[e.contribution_points," ",Object(b.jsx)("span",{className:"text-gray-500",children:"contribution points"})]})]})]})},e._id)}))]})},He=function(e,t){return fetch("".concat(B,"/api/donation-board/").concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return e})).catch((function(e){return console.log(e)}))};var We=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)([]),c=Object(u.a)(a,2),o=c[0],i=c[1];return Object(s.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(0,50);case 2:t=e.sent,r(t.donations);case 4:case"end":return e.stop()}}),e)})))(),Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(B,"/api/donation-board/top-contributors"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:t=e.sent,console.log(t),i(t.donations);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(b.jsx)(Le,{navbarSolid:!0,children:Object(b.jsxs)("div",{className:"w-full h-full flex flex-col p-3 items-center pt-24",children:[Object(b.jsx)("div",{id:"recent-donations-board",className:"mb-2 w-full flex items-center justify-center md:w-1/2 shadow-md h-1/2 overflow-y-scroll",children:Object(b.jsx)(Ie,{donations:n,showImage:!0})}),Object(b.jsx)("div",{id:"recent-donations-board",className:"mb-2 w-full flex items-center justify-center md:w-1/2 shadow-md h-1/2",children:Object(b.jsx)(Ge,{contributors:o})})]})})},Be=["Antisocial Behaviour","Child abuse","Fraud","Slavery","Sexual Assault/Harassment","Robbery","Others"],Ue=function(e,t,n,s,r,a,c){return fetch("".concat(B,"/api/crime-report"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,typeDescription:n,geoLocation:s,reverseGeocodingAddress:r,briefReport:a,media:c})}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){e(!1)}))},Me=[{icon:Object(b.jsx)(S.w,{className:"text-base"}),name:"Home",link:"/"},{icon:Object(b.jsx)(G.e,{className:"text-base"}),name:"Report Homeless",link:"/general/report-homeless"},{icon:Object(b.jsx)(S.A,{className:"text-base"}),name:"Donate",link:"/ngo/list"}];var Fe=function(){var e=Object(d.f)(),t=Object(s.useState)({latitude:26.7459721,longitude:94.2463553}),n=Object(u.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),l=Object(u.a)(c,2),j=l[0],h=l[1],m=Object(s.useState)(""),x=Object(u.a)(m,2),p=x[0],f=x[1],O=Object(s.useState)(Be[0]),g=Object(u.a)(O,2),v=g[0],y=g[1],w=Object(s.useState)(""),N=Object(u.a)(w,2),k=N[0],A=N[1],P=Object(s.useState)(""),E=Object(u.a)(P,2),D=E[0],R=E[1],z=Object(s.useState)([]),L=Object(u.a)(z,2),G=L[0],H=L[1],W=Object(s.useState)(!1),B=Object(u.a)(W,2),U=B[0],M=B[1],F=function(){var t=Object(C.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(p.length<1)){t.next=5;break}return i.b.error("Address cannot be empty"),t.abrupt("return");case 5:if(!(D.length<1)){t.next=8;break}return i.b.error("Report cannot be empty"),t.abrupt("return");case 8:return M(!0),t.prev=9,t.next=12,i.b.promise(Ue(M,v,k,Object(o.a)(Object(o.a)({},r),{},{address:p}),j,D,G),{pending:"Uploading data",success:"Successfully uploaded",error:"Oops! Something went wrong"});case 12:t.sent,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(9),i.b.error(t.t0);case 18:e.replace("/");case 19:case"end":return t.stop()}}),t,null,[[9,15]])})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:t=e.sent,console.log(t),a({latitude:t.coords.latitude,longitude:t.coords.longitude});case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(T,{NavbarLinks:Me}),Object(b.jsxs)("div",{className:"min-w-screen flex flex-col md:flex-row-reverse justify-center",children:[Object(b.jsx)("div",{id:"crime-report-map-container",className:"md:w-2/3 md:h-screen h-96",children:Object(b.jsx)(Ne,{region:[r.longitude,r.latitude],onCordinateChange:function(e){a({latitude:parseFloat(e[1]),longitude:parseFloat(e[0])})},onRGCResponse:function(e){h(e)}})}),Object(b.jsxs)("div",{id:"crime-report-form-container",className:"shadow-md md:w-1/3 p-3 m-3",children:[Object(b.jsxs)("h1",{className:"text-blue-500 rounded my-3 mt-0 py-3 text-2xl font-bold",children:["Report Crime",Object(b.jsx)("span",{className:"text-sm mx-1 font-normal",children:"Anonymously"})]}),Object(b.jsx)("div",{className:"mb-6 italic text-gray-500",children:"Dear User, You can report any criminal activity against the homeless in this form without revealing your identity."}),Object(b.jsxs)("div",{className:"flex flex-col pb-2 my-1",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm mb-1",children:"Address :"}),Object(b.jsx)("input",{placeholder:"Address",value:p,onChange:function(e){return f(e.target.value)},className:"rounded p-2 w-full border-2 border-gray-200"})]}),Object(b.jsxs)("div",{className:"flex pb-3 pt-2 item-center my-1",children:[Object(b.jsx)("label",{for:"select-gender",className:"text-gray-400 text-sm mb-1",children:"Crime type :\xa0"}),Object(b.jsx)("select",{id:"select-gender",name:"gender",value:v,onChange:function(e){return y(e.target.value)},className:"bg-white text-sm",disabled:U,children:Be.map((function(e,t){return Object(b.jsx)("option",{className:"bg-white",read:!0,value:e,children:e},t)}))})]}),Object(b.jsxs)("div",{className:"flex flex-col pb-2 my-1",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm mb-1",children:"A brief description on the type of crime :"}),Object(b.jsx)("input",{disabled:U,className:"border-2 p-2 border-gray-100 rounded",value:k,onChange:function(e){return A(e.target.value)},placeholder:"Type here..."})]}),Object(b.jsxs)("div",{className:"flex flex-col pb-2 my-1",children:[Object(b.jsx)("label",{className:"text-gray-400 text-sm mb-1",children:"A brief description on the crime :"}),Object(b.jsx)("textarea",{disabled:U,type:"number",className:"border-2 p-2 resize-none border-gray-100 rounded",value:D,onChange:function(e){return R(e.target.value)},placeholder:"Type here..."})]}),G.length>0&&Object(b.jsx)("div",{className:"my-2 p-3 flex overflow-x-scroll",children:G.map((function(e,t){return Object(b.jsx)("img",{className:"m-1",src:e,alt:"previews"},t)}))}),G.length<5&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{for:"file-upload",className:"flex justify-center cursor-pointer items-center text-gray-700 border-2 h-20 border-dotted my-2 p-3",children:["Upload photos\xa0",Object(b.jsx)(S.q,{})]}),Object(b.jsx)("input",{id:"file-upload",type:"file",className:"hidden",placeholder:"photo",multiple:!0,accept:"image/*",onChange:function(e){if(!U){var t=e.target.files;t&&he(t,H,5)}},max:"10"})]}),Object(b.jsxs)("span",{className:"text-sm mx-3 text-gray-500",children:["* A maximum of ",5," images can be uploaded at once"]}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"text-sm mx-3 text-gray-500",children:"* Your identity will be completely anonymous"}),Object(b.jsx)("button",{onClick:F,className:"flex w-full justify-center my-2 items-center text-white rounded  focus:bg-blue-700 p-3 text-lg bg-blue-500",children:"Submit"})]})]}),Object(b.jsx)(I,{})]})};var Je=function(){var e=Object(d.h)().id,t=Object(s.useState)({}),n=Object(u.a)(t,2),r=n[0],a=n[1];return Object(s.useEffect)((function(){Object(C.a)(_.a.mark((function t(){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:n=t.sent,console.log(n),a(n);case 5:case"end":return t.stop()}}),t)})))()}),[]),Object(b.jsx)(Le,{navbarSolid:!0,children:Object(b.jsx)("div",{className:"p-3 w-full h-full py-20 flex flex-col items-center justify-center",children:Object(b.jsxs)("div",{className:"p-2 md:w-1/2 shadow-md flex flex-col items-center",children:[r&&Object(b.jsx)("div",{className:"p-2 ",children:Object(b.jsx)("span",{className:"text-3xl text-blue-500 font-bold",children:r.name})}),r&&Object(b.jsx)("img",{className:"my-2 h-40 w-40",src:r.profile_pic,alt:"profile"}),r&&Object(b.jsxs)("div",{className:"py-2",children:[Object(b.jsx)("span",{className:"text-gray-500",children:"Contribution Points : "}),Object(b.jsx)("span",{className:"text-xl",children:r.contribution_points})]})]})})})},Ye=n(26),qe=function(e){var t=e.placeholder,n=e.containerClass,r=e.state,a=e.head,c=Object(s.useState)(!1),o=Object(u.a)(c,2),i=o[0],l=o[1];return Object(b.jsxs)("div",{className:"rounded shadow-md w-full bg-white flex justify-between ".concat(n),children:[a?Object(b.jsx)("div",{className:"flex justify-center flex-col pl-4 pr-3 select-none",children:a}):null,Object(b.jsx)("input",{placeholder:t,type:i?"text":"password",className:"px-4 py-3 w-5/6 outline-none",value:r[0],onChange:function(e){r[1](e.target.value)}}),Object(b.jsx)("div",{className:"flex justify-center flex-col px-4 cursor-pointer select-none",onClick:function(){l(!i)},children:i?Object(b.jsx)(Ye.c,{size:24,color:"grey"}):Object(b.jsx)(Ye.b,{size:24,color:"grey"})})]})};n(205);function Ze(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c,o,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,s=t.email,r=t.phone,a=t.about,c=t.website,e.prev=1,o="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/ngo/details/updatebasic",{method:"POST",headers:{"Content-Type":"application/json",Authorization:o},body:JSON.stringify({name:n,email:s,phone:r,about:a,website:c})}).then((function(e){return e.json()}));case 5:return i=e.sent,y(i),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Ke(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(C.a)(_.a.mark((function e(t){var n,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.imageBase64,e.prev=1,s="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/ngo/details/addnewphoto",{method:"POST",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({image:n})}).then((function(e){return e.json()}));case 5:return r=e.sent,y(r),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function Xe(){return $e.apply(this,arguments)}function $e(){return($e=Object(C.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="bearer "+w()+" "+g(),e.next=4,fetch(B+"/api/ngo/details/getdata",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){return e.json()}));case 4:return n=e.sent,y(n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{ngo:null});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,s=t.role,r=t.profile_pic,a=t.about,e.prev=1,c="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/ngo/details/addmember",{method:"POST",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({name:n,role:s,profile_pic:r,about:a})}).then((function(e){return e.json()}));case 5:return o=e.sent,y(o),e.abrupt("return",o);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function nt(e){return st.apply(this,arguments)}function st(){return(st=Object(C.a)(_.a.mark((function e(t){var n,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,s="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/ngo/details/deletemember",{method:"POST",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({_id:n})}).then((function(e){return e.json()}));case 5:return r=e.sent,y(r),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var rt=r.a.createContext(null);function at(e){var t=e.children,n=Object(s.useState)(null),r=Object(u.a)(n,2),a=r[0],c=r[1],o=Object(s.useState)(null),i=Object(u.a)(o,2),l=i[0],j=i[1];Object(d.f)();Object(s.useEffect)((function(){void 0!=w()&&h()}),[]);var h=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe();case 2:if(t=e.sent,n=t.ngo){e.next=6;break}return e.abrupt("return");case 6:c(n),j(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(rt.Provider,{value:{ngoDetails:a,setNgoDetails:c,isLoggedIn:l,setIsLoggedIn:j},children:t})}var ct=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),c=Object(u.a)(a,2),o=c[0],j=c[1],h=Object(s.useContext)(rt),m=Object(d.f)();Object(s.useEffect)((function(){window.scrollTo(0,0)}),[]);var p=function(){var e=Object(C.a)(_.a.mark((function e(){var t,s,r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee({email:n,password:o});case 2:if(t=e.sent,s=t.access_token,r=t.refresh_token,a=t.ngoData,s){e.next=9;break}return i.b.error("Something went wrong"),e.abrupt("return");case 9:N(s),c=r,x.a.set("refresh_token_ngo",c,{expires:30,path:"/"}),h.setNgoDetails(a),h.setIsLoggedIn(!0),m.push("/ngo/home"),m.go(0);case 15:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}();return h.isLoggedIn?(m.push("/ngo/home"),Object(b.jsx)(b.Fragment,{})):Object(b.jsxs)("div",{className:"pb-20 md:px-0",children:[Object(b.jsx)("p",{className:"text-2xl mb-2 font-bold",children:"Login to Aashroy"}),Object(b.jsxs)("p",{className:"mb-6",children:["Don't have an account?"," ",Object(b.jsx)(l.b,{to:"/ngo/registration",children:Object(b.jsx)("span",{className:"text-red-300 font-bold hover:underline",children:"Create account"})})]}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)(de,{placeholder:"Email Address",containerClass:"mb-5",state:[n,r]}),Object(b.jsx)(qe,{placeholder:"Password",containerClass:"mb-5",state:[o,j]})]}),Object(b.jsx)("button",{onClick:p,className:"w-full py-3 mb-4 bg-blue-600 text-white rounded font-bold text-sm hover:bg-blue-700 transition duration-100",children:"LOGIN"}),Object(b.jsx)("p",{className:"text-gray-500 text-sm cursor-pointer select-none",children:"Forgot password?"})]})},ot=function(){return Object(b.jsxs)("div",{className:"container px-20 text-gray-200",children:[Object(b.jsx)("h1",{className:"mb-6 text-4xl font-semibold leading-snug",children:"Thank you for landing in our portal."}),Object(b.jsx)("p",{className:"text-sm leading-relaxed",children:"It is a very overwhelming moment for us to work with such a high-peer organizations like you. We assure, that we together will bring a change to these homeless people and provide their rights as a human being in this world. We request you to please login or register for this virtuous leap ."})]})},it=function(){return Object(b.jsxs)("div",{className:"flex ngo-login-root bg-blue-600",children:[Object(b.jsxs)("div",{className:" bg-gray-100 lg:w-4/6 w-full md:px-20 px-5 py-16",children:[Object(b.jsx)(l.b,{className:"text-3xl font-bold text-blue-600",to:"/",children:"Aashroy"}),Object(b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(b.jsx)(ct,{})})]}),Object(b.jsx)("div",{className:"container lg:w-2/6 md:block hidden ngo-login-hero-section",children:Object(b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(b.jsx)(ot,{})})})]})},lt=[{address:"123",latitude:26.743573,longitude:94.2122044},{address:"cps e",latitude:26.733573,longitude:94.2322044},{address:"asdf a",latitude:26.732573,longitude:94.2022044}],dt=function(){return Object(b.jsx)("div",{className:"h-screen w-screen bg-purple-600",children:Object(b.jsx)(ye,{region:[94.2142044,26.753573],markers:lt,regionColor:"#ff000075",pins:[{address:"123",latitude:26.613573,longitude:94.2122044}]})})},ut=(n(206),function(e){var t=e.placeholder,n=e.containerClass,s=e.state;return Object(b.jsx)("div",{className:n,children:Object(b.jsx)("textarea",{placeholder:t,className:"rounded shadow-md px-4 py-3 w-full outline-none",multiple:!0,value:s[0],onChange:function(e){s[1](e.target.value)}})})}),bt=function(e){var t=e.containerClass,n=e.onCordinateChange,r=e.onRGCResponse,a=Object(s.useState)(""),c=Object(u.a)(a,2),o=c[0],i=c[1],l=Object(s.useState)([94.2463553,26.7459721]),d=Object(u.a)(l,2),j=d[0],h=d[1];Object(s.useEffect)((function(){r(o)}),[o]),Object(s.useEffect)((function(){n(j)}),[j]),Object(s.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:t=e.sent,h([t.coords.longitude,t.coords.latitude]);case 4:case"end":return e.stop()}}),e)})))()}),[]);return Object(b.jsxs)("div",{className:"rounded shadow-md w-full bg-white ".concat(t),children:[Object(b.jsxs)("div",{className:"flex py-3",children:[Object(b.jsx)("div",{className:"flex justify-center flex-col pl-4 pr-3 select-none",children:Object(b.jsx)(Ye.g,{size:16,color:"grey"})}),Object(b.jsx)("div",{className:"px-4",children:"Location"})]}),Object(b.jsx)("div",{className:"h-60",children:Object(b.jsx)(Ne,{region:j,onCordinateChange:function(e){h([parseFloat(e[0]),parseFloat(e[1])])},onRGCResponse:function(e){return i(e)}})}),Object(b.jsx)(de,{head:Object(b.jsx)(Ye.i,{size:16,color:"grey"}),placeholder:"Address",state:[o,i],noShadow:!0})]})},jt=(n(207),function(e){var t=e.password,n=e.containerClass,r=Object(s.useState)(""),a=Object(u.a)(r,2),c=a[0],o=a[1],i=Object(s.useState)("WEAK"),l=Object(u.a)(i,2),d=l[0],j=l[1];return Object(s.useEffect)((function(){o(t)}),[t]),Object(s.useEffect)((function(){var e=document.getElementById("strength-meter");function t(e,t,n){var s=e.match(t)||[];return 0===s.length?{message:"Your password has no ".concat(n),deduction:20}:s.length<=2?{message:"Your password could use more ".concat(n),deduction:5}:void 0}!function(){var n=function(e){var n=[];return n.push(function(e){var t=e.length;if(t<=5)return{message:"Your password is too short",deduction:40};if(t<=10)return{message:"Your password could be longer",deduction:15}}(e)),n.push(function(e){return t(e,/[a-z]/g,"lowercase characters")}(e)),n.push(function(e){return t(e,/[A-Z]/g,"uppercase characters")}(e)),n.push(function(e){return t(e,/[0-9]/g,"numbers")}(e)),n.push(function(e){return t(e,/[^0-9a-zA-Z\s]/g,"special characters")}(e)),n.push(function(e){var t=e.match(/(.)\1/g)||[];if(t.length>0)return{message:"Your password has repeat characters",deduction:10*t.length}}(e)),n}(c),s=100;n.forEach((function(e){null!=e&&(s-=e.deduction)})),s>66?(e.style.setProperty("--strengthColor","#76da29"),j("GREAT")):s>33?(e.style.setProperty("--strengthColor","#fbb03b"),j("GOOD")):(e.style.setProperty("--strengthColor","#ff0000"),j("BAD"));e.style.setProperty("--strength",s)}()}),[c]),Object(b.jsxs)("div",{className:"strength-checker-container ".concat(n),children:[Object(b.jsx)("div",{className:"strength-meter",id:"strength-meter"}),Object(b.jsxs)("div",{className:"strength-label",style:{display:"none"},children:[d," "]})]})}),ht=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),c=Object(u.a)(a,2),o=c[0],d=c[1],j=Object(s.useState)(""),h=Object(u.a)(j,2),m=h[0],x=h[1],p=Object(s.useState)(""),f=Object(u.a)(p,2),O=f[0],g=f[1],v=Object(s.useState)(""),y=Object(u.a)(v,2),w=y[0],N=y[1],k=Object(s.useState)(""),S=Object(u.a)(k,2),A=S[0],T=S[1],P=Object(s.useState)(""),E=Object(u.a)(P,2),D=E[0],R=E[1],z=Object(s.useState)([94.2463553,26.7459721]),L=Object(u.a)(z,2),I=L[0],G=L[1];Object(s.useEffect)((function(){window.scrollTo(0,0)}),[]);var H=function(){var e=Object(C.a)(_.a.mark((function e(){var t,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={latitude:I[1],longitude:I[0],address:D},e.next=3,ne({name:n,email:o,password:m,phone:O,website:w,about:A,location:t});case 3:if(s=e.sent,s.success,r=s.msg,!s.error){e.next=10;break}return i.b.error("Something went wrong :("),e.abrupt("return");case 10:i.b.success(r),window.location.reload();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"container w-96 pb-20",children:[Object(b.jsx)("p",{className:"text-2xl mb-2 font-bold",children:"Register on Aashroy"}),Object(b.jsxs)("p",{className:"mb-6",children:["Already have an account?"," ",Object(b.jsx)(l.b,{to:"/ngo/login",children:Object(b.jsx)("span",{className:"text-red-300 font-bold hover:underline",children:"Login"})})]}),Object(b.jsxs)("div",{className:"flex flex-col",children:[Object(b.jsx)(de,{head:Object(b.jsx)(Ye.f,{size:16,color:"grey"}),placeholder:"NGO Name",containerClass:"mb-5",state:[n,r]}),Object(b.jsx)(de,{head:Object(b.jsx)(Ye.h,{size:16,color:"grey"}),placeholder:"Email Address",containerClass:"mb-5",state:[o,d]}),Object(b.jsx)(qe,{head:Object(b.jsx)(Ye.e,{size:16,color:"grey"}),placeholder:"Password",containerClass:m.length>6?"":"mb-5",state:[m,x]}),m.length>6?Object(b.jsx)(jt,{password:m,containerClass:"mb-5"}):0!==m.length?Object(b.jsx)("span",{className:"mb-5 text-sm text-red-600",children:"Password should be 6 or more character"}):null,Object(b.jsx)(de,{head:Object(b.jsx)(Ye.k,{size:16,color:"grey"}),placeholder:"Phone Number",containerClass:"mb-5",state:[O,g]}),Object(b.jsx)(de,{head:Object(b.jsx)(Ye.d,{size:16,color:"grey"}),placeholder:"Website",containerClass:"mb-5",state:[w,N]}),Object(b.jsx)(bt,{containerClass:"mb-5",onCordinateChange:function(e){return G(e)},onRGCResponse:function(e){return R(e)}}),Object(b.jsx)(ut,{placeholder:"About Us",containerClass:"mb-5",state:[A,T]})]}),Object(b.jsx)("button",{className:"py-3 mb-4 w-full bg-blue-600 text-white rounded font-bold text-sm hover:bg-blue-700 transition duration-100",onClick:H,children:"REGISTER"})]})},mt=function(){return Object(b.jsxs)("div",{className:"container px-20 text-gray-200",children:[Object(b.jsx)("h1",{className:"mb-6 text-4xl font-semibold leading-snug",children:"Thank you for landing in our portal."}),Object(b.jsx)("p",{className:"text-sm leading-relaxed",children:"It is a very overwhelming moment for us to work with such a high-peer organizations like you. We assure, that we together will bring a change to these homeless people and provide their rights as a human being in this world. We request you to please login or register for this virtuous leap ."})]})},xt=function(){return Object(b.jsxs)("div",{className:"flex ngo-registration-root bg-blue-600",children:[Object(b.jsxs)("div",{className:"main-form-section bg-gray-100 lg:w-3/5 w-full md:px-20 px-5 py-16",children:[Object(b.jsx)(l.b,{className:"text-3xl font-bold text-blue-600",to:"/",children:"Aashroy"}),Object(b.jsx)("div",{className:"w-full flex justify-center",children:Object(b.jsx)(ht,{})})]}),Object(b.jsx)("div",{className:"container bg-blue-600 w-2/5 lg:block hidden",children:Object(b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(b.jsx)(mt,{})})})]})},pt=n.p+"static/media/logo.8e8a8260.svg",ft=function(){return Object(b.jsxs)("div",{className:"w-auto lg:-ml-40  ",children:[Object(b.jsx)("p",{className:"text-5xl font-bold text-black  tracking-widest",children:"AASHROY"}),Object(b.jsx)("br",{}),Object(b.jsxs)("p",{class:"mb-8",children:[Object(b.jsx)("div",{class:"mb-2  tracking-widest font-bold text-gray-700 leading-snug",children:"A Charitable Journey for"}),Object(b.jsx)("span",{className:"pt-7 leading-6 font-bold text-2xl text-gray-900 sm:leading-7",children:"HOMELESS PEOPLE"})]}),Object(b.jsx)("button",{className:" py-3 mb-4 lg:w-80 w-60 bg-blue-600 tracking-widest text-white rounded-full font-bold text-sm",children:"TEAM AURIN"})]})},Ot=function(){return Object(b.jsxs)("div",{className:"text-justify p-10",children:[Object(b.jsx)("p",{className:" py-3  text-3xl space-y-4 text-gray-800  w-full",children:"About us"}),Object(b.jsxs)("p",{class:" py-5 text-base space-y-4 text-gray-700 md:w-auto ",children:["As homeless street people where a large section comprises of women and children , are more prone to trafficking, drug abuse and other crimes, our team has come up with effective solutions to monitor the living conditions and place they stay, so that relief materials and proper healthy support can be provided to these homeless.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Our Project 'AASHROY' is a type of web portal that ensure proper health facilities and other aids especially to the homeless having physical or mental ailments by providing information about their temporary shelters to the government and volunteer organizations.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"In this website, we are developing and interactive platform to allow General public to report Homeless people or Crime a report anonymously. Moreover, NGO\u2019s are invited to take the responsibility of the homeless people and use our tools to keep a track of these people and support them. Even Donations from Mankind are welcomed with security-encrypted policy for transaction."]})]})},gt=function(){return Object(b.jsx)("div",{class:"shadow-md overflow-hidden bg-blue-500",children:Object(b.jsxs)("div",{class:"grid lg:grid-flow-col lg:items-center justify-center",children:[Object(b.jsxs)("div",{class:"flex-row mt-10 mb-10 lg:ml-32 lg:mr-32 ml-10 mr-10 items-center justify-center bg-blue-500",children:[Object(b.jsxs)("span",{className:"text-4xl lg:text-6xl font-bold text-white  tracking-widest",children:["Our ",Object(b.jsx)("br",{}),"Services"]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{class:"h-48 w-full flex",children:Object(b.jsx)("div",{className:" p-10 w-full flex-shrink bg-white"})})]}),Object(b.jsxs)("div",{class:"flex flex-col p-8 ml-10 mr-10 bg-blue-500",children:[Object(b.jsxs)("div",{className:"flex py-7",children:[Object(b.jsx)("div",{className:"text-5xl mt-4 text-gray-300 font-bold",children:"01"}),Object(b.jsx)("div",{className:"p-3"}),Object(b.jsxs)("div",{className:"2 ",children:[Object(b.jsx)("p",{class:"block mt-1 text-3xl leading-tight font-bold text-white ",children:"INTERACTIVE MAPS"}),Object(b.jsx)("p",{class:"mt-2 text-white",children:"Detailed Location of the shelther of homeless people and the projects of NGO working for them"})]})]}),Object(b.jsxs)("div",{className:"flex py-7",children:[Object(b.jsx)("div",{className:"text-5xl mt-4 text-gray-300 font-bold",children:"02"}),Object(b.jsx)("div",{className:"p-3"}),Object(b.jsxs)("div",{className:"2",children:[Object(b.jsx)("p",{class:"block mt-1 text-3xl leading-tight font-bold text-white ",children:"CRIME-REPORT"}),Object(b.jsx)("p",{class:"mt-2 text-white",children:"Priviledge of raising voice for these helpless people"})]})]}),Object(b.jsxs)("div",{className:"flex py-7",children:[Object(b.jsx)("div",{className:"text-5xl mt-4 text-gray-300 font-bold",children:"03"}),Object(b.jsx)("div",{className:"p-3"}),Object(b.jsxs)("div",{className:"2",children:[Object(b.jsx)("p",{class:"block mt-1 text-3xl leading-tight font-bold text-white",children:"SECURED DONATIONS"}),Object(b.jsx)("p",{class:"mt-2 text-white",children:"We are providing the feature of donating people anonymously connected with the NGO's"})]})]})]})]})})},vt=function(){return Object(b.jsx)(Le,{navbarSolid:!0,children:Object(b.jsxs)("div",{className:"flex flex-col w-full",children:[Object(b.jsxs)("div",{className:"flex flex-col lg:flex-row ",children:[Object(b.jsx)("div",{className:"bg-white flex h-screen w-full lg:w-4/5 items-center justify-center",children:Object(b.jsx)(ft,{})}),Object(b.jsxs)("div",{className:" flex bg-blue-600 h-44 w-full lg:w-96 lg:h-screen items-center justify-center ",children:[Object(b.jsx)("div",{class:"rounded-full lg:-ml-96 lg:mt-0 -mt-60 ml-0 lg:h-96 lg:w-96 h-60 w-60 flex items-center justify-center shadow-2xl  bg-white",children:Object(b.jsx)("img",{src:pt,className:"object-contain h-48",alt:"Homeless people"})})," "]})]}),Object(b.jsx)("div",{className:"w-full",children:Object(b.jsx)(Ot,{})}),Object(b.jsx)("div",{className:"w-full ",children:Object(b.jsx)(gt,{})}),Object(b.jsxs)("div",{className:"  flex-col  w-full mb-8 mt-8",children:[Object(b.jsx)("div",{className:"w-full  text-center text-4xl font-bold tracking-widest text-black ",children:"TEAM AURIN"}),Object(b.jsx)("div",{className:"w-full  text-center text-xl space-y-4 text-black",children:"A place of providing interactive solutions for people"})]})]})})},yt=(n(208),function(){return Object(b.jsx)("div",{className:"flex flex-wrap justify-evenly py-5",style:{backgroundColor:"#fff"},children:["https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Teal_Black_White_Photo_Homelessness_Poster_oz1bhe.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Brown_Carton_Homelessness_Poster_o5miud.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Red_and_Black_Hands_Homeless_Poster_sd7ebh.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Blue_Beige_Photo_Homelessness_Poster_kxxxxy.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Orange_Photo_Homelessness_Poster_nafgu9.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Pink_and_Black_Photo_Homelessness_Awareness_Poster_epun86.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Brown_Yellow_Photo_Modern_Homelessness_Poster_a5joov.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Blue_and_Grayscale_Photo_Homelessness_Poster_podw7a.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Green_and_White_Square_Photo_Frame_Homelessness_Poster_tf2ku5.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Cyan_Hand_Homelessness_Poster_ypvmul.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Orange_Blue_Photo_Homelessness_Poster_a2ag7w.png","https://res.cloudinary.com/dmmrlohoi/image/upload/c_scale,w_500/v1632550822/aashroy/Black_White_with_Photo_Homelessness_Fact_Awareness_Poster_ixge1b.png"].map((function(e){return Object(b.jsx)("img",{className:"my-5",src:e,style:{width:300}})}))})}),wt=function(e){var t=e.title,n=e.bgColor,s=e.color,r=e.containerClass,a=e.to;return Object(b.jsx)(l.b,{to:a,children:Object(b.jsx)("div",{className:"md:w-auto w-full py-3 px-10 mx-2 border-2 border-white rounded font-bold transition duration-100 cursor-pointer text-center md:mb-0 mb-5 ".concat(r),style:{backgroundColor:n,color:s},children:t})})},Nt=function(){var e=Object(s.useState)(0),t=Object(u.a)(e,2),n=t[0],r=t[1],a=function(){return r(window.scrollY)};return Object(s.useEffect)((function(){return window.addEventListener("scroll",a),function(){window.removeEventListener("scroll",a)}}),[]),Object(b.jsxs)("div",{className:"hero-section flex flex-col items-center justify-center relative",children:[Object(b.jsx)("div",{className:"hero-section-image",style:{transform:"translateY(".concat(.4*n,"px)")}}),Object(b.jsxs)("div",{className:"md:px-0 px-10 md:pb-0 pb-16 hero-section-content",children:[Object(b.jsxs)("div",{className:"text-3xl md:text-7xl text-white font-bold text-center hero-title mb-5",children:["Help the Homeless",Object(b.jsx)("br",{})," Get Them their AASHROY"]}),Object(b.jsx)("p",{className:"text-white text-center",children:"An initiative towards humanity under JORHAT ENGINEERING COLLEGE"}),Object(b.jsxs)("div",{className:"flex mt-10 flex-col justify-center items-center",children:[Object(b.jsxs)("div",{className:"flex md:mb-5 justify-center items-center flex-col md:flex-row",children:[Object(b.jsx)(wt,{to:"/general/report-homeless",title:"Report Homeless",bgColor:"#fbbf24",containerClass:"rounded-3xl"}),Object(b.jsx)(wt,{to:"/report-crime",title:"Report Crime",bgColor:"black",color:"#fff",containerClass:"rounded-3xl"})]}),Object(b.jsx)("div",{className:"md:w-96",children:Object(b.jsx)(wt,{to:"/ngo/list",title:"\u20b9 Donate Now",color:"#000",bgColor:"#fff",containerClass:"rounded-3xl"})})]})]})]})},kt=function(){var e=70,t="#ccc";return Object(b.jsxs)("div",{className:"my-16",children:[Object(b.jsx)("div",{className:"text-center mb-10",children:"OUR SPONSORS"}),Object(b.jsxs)("div",{className:"flex mb-10 flex-wrap justify-center items-center",children:[Object(b.jsx)(S.f,{size:e,color:t,className:"mx-10 md:my-0 my-5"}),Object(b.jsx)(S.j,{size:e,color:t,className:"mx-10 md:my-0 my-5"}),Object(b.jsx)(S.p,{size:80,color:t,className:"mx-10 md:my-0 my-5"}),Object(b.jsx)(S.s,{size:e,color:t,className:"mx-10 md:my-0 my-5"}),Object(b.jsx)(S.J,{size:e,color:t,className:"mx-10 md:my-0 my-5"}),Object(b.jsx)(S.F,{size:e,color:t,className:"mx-10 md:my-0 my-5"}),Object(b.jsx)(S.D,{size:e,color:t,className:"mx-10 md:my-0 my-5"}),Object(b.jsx)(S.B,{size:e,color:t,className:"mx-10 md:my-0 my-5"})]})]})},_t=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(0,20);case 2:t=e.sent,console.log(t.donations),r(t.donations);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(Ie,{donations:n,showImage:!1}),Object(b.jsx)(l.b,{className:"px-4 text-blue-600",to:"/public-contribution",children:"View More \u2192"})]})},Ct=function(){return Object(b.jsxs)(Le,{children:[Object(b.jsx)(Nt,{}),Object(b.jsx)("div",{className:"bg-white pt-20 pb-20",children:Object(b.jsx)("div",{className:" max-w-6xl mx-auto md:px-4 px-7 ",children:Object(b.jsxs)("div",{className:"flex flex-col  md:flex-row",children:[Object(b.jsxs)("div",{className:"md:w-1/2",children:[Object(b.jsx)(l.b,{to:"/general/report-homeless",children:Object(b.jsxs)("div",{className:"mb-12 cursor-pointer",children:[Object(b.jsx)("p",{className:"mb-2 font-bold cursor-default text-3xl",children:"Report homeless"}),Object(b.jsx)("p",{className:"mb-2 cursor-default  text-justify",children:"Detect the person you saw roaming around in search of Aashroy and ask the authorities to help them."}),Object(b.jsx)("p",{className:" text-blue-600",children:"Report Now \u2192"})]})}),Object(b.jsx)(l.b,{to:"/report-crime",className:"cursor-pointer",children:Object(b.jsxs)("div",{className:"mb-20",children:[Object(b.jsx)("p",{className:"mb-2 font-bold cursor-default text-3xl",children:"Crime Report"}),Object(b.jsx)("p",{className:"mb-2 cursor-default  text-justify",children:"Be the voice of the homeless and report any anonymous activity against these helpless."}),Object(b.jsx)("p",{className:"text-blue-600",children:Object(b.jsx)("a",{href:"#",children:"Make report for crime \u2192"})})]})}),["Hey! Are you a socialist? Whatever you are! You as a human, can too join our hands and be a part of our social motive - Aashroy for homeless people.","NGOs, government representives, journalists, socialists and common people too can join our hands."].map((function(e,t){return Object(b.jsx)("p",{className:"mb-4 leading-8 text-justify",children:e},"home_list_1_".concat(t))})),Object(b.jsxs)("div",{className:"mb-12 mt-12",children:[Object(b.jsx)("p",{className:"mb-2 font-bold",children:"NGO"}),Object(b.jsx)("p",{className:"mb-2",children:"Get data on homeless population, crimes and more. Work for upliftment of the homeless."}),Object(b.jsx)("p",{className:" text-blue-600",children:Object(b.jsx)(l.b,{to:"/ngo/registration",children:"Register Now \u2192"})})]})]}),Object(b.jsx)("div",{className:"md:w-1/2",children:Object(b.jsx)("div",{className:"md:px-16",children:Object(b.jsx)(_t,{})})})]})})}),Object(b.jsx)(yt,{}),Object(b.jsx)(kt,{})]})},St=(n(209),function(e){var t=e.onChangeText,n=e.placeholder,r=e.textClass,a=e.addedClass,c=e.isEditable,o=e.isLink,i=Object(s.useState)(!0),l=Object(u.a)(i,2),d=l[0],j=l[1],h=Object(s.useState)(n),m=Object(u.a)(h,2),x=m[0],p=m[1],f=Object(s.useRef)(null);return Object(s.useEffect)((function(){p(n)}),[n]),Object(b.jsxs)("div",{className:"flex justify-center max-w-max items-center",children:[d&&Object(b.jsx)("h2",{className:r||"text-lg mr-2 focus:outline-none px-1 py-1"+" ".concat(a||""),ref:f,onBlur:function(){j(!0)},children:o?Object(b.jsx)("a",{href:At(x),target:"_blank",children:x}):x}),!d&&Object(b.jsx)("input",{className:r||"text-lg mr-2 focus:outline-none px-1 py-1"+" ".concat(a||""),ref:f,onBlur:function(){j(!0)},value:n,onChange:function(e){return t(e.target.value)},autoFocus:!0}),d&&c&&Object(b.jsx)(Ye.j,{className:"text-gray-400 text-lg cursor-pointer",onClick:function(){j(!1)}})]})}),At=function(e){return-1==(null===e||void 0===e?void 0:e.search("https://"))?"https://"+e:e};function Tt(e){var t=e.membersList,n=e.forPublic,r=Object(s.useState)(t||[]),a=Object(u.a)(r,2),c=a[0],o=a[1],l=Object(s.useState)(!1),d=Object(u.a)(l,2),j=d[0],h=d[1],m=Object(s.useRef)(null),x=Object(s.useState)(null),p=Object(u.a)(x,2),f=p[0],O=p[1],g=Object(s.useState)(null),v=Object(u.a)(g,2),y=v[0],w=v[1],N=Object(s.useState)(null),k=Object(u.a)(N,2),A=k[0],T=k[1],P=Object(s.useState)(null),E=Object(u.a)(P,2),D=E[0],R=E[1];Object(s.useEffect)((function(){o(t)}),[t]);var z=function(){var e=Object(C.a)(_.a.mark((function e(t){var n,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.files[0],e.next=4,L(n);case 4:s=e.sent,R(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){return new Promise((function(t){je.a.imageFileResizer(e,736,900,"JPEG",90,0,(function(e){t(e)}),"base64")}))},I=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&D&&A&&y){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.b.promise(et({name:f,role:y,about:A,profile_pic:D}),{pending:"Adding..",success:"Successfully added",error:"Something went wrong"});case 4:if(t=e.sent,n=t.members){e.next=8;break}return e.abrupt("return");case 8:o(n),h(!1),R(null),O(null),w(null),T(null);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(C.a)(_.a.mark((function e(t){var n,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.promise(nt({_id:t}),{pending:"Removing..",success:"Removed",error:"Something went wrong"});case 2:if(n=e.sent,s=n.members){e.next=6;break}return e.abrupt("return");case 6:o(s),h(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"md:w-5/6 md:h-auto w-full  border rounded-2xl bg-white mt-10",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center mb-10 md:px-20 px-10 py-5 bg-blue-800",children:[Object(b.jsx)("h1",{className:"text-white text-xl md:text-3xl font-medium",children:"Members"}),Object(b.jsx)("div",{className:"flex flex-col items-center",children:!n&&Object(b.jsx)("button",{className:"py-2 px-3 border-2 border-white rounded font-bold text-sm bg-yellow-400 transition duration-100",onClick:function(){h(!0)},children:"+ ADD"})})]}),Object(b.jsx)("div",{className:" px-4 py-4 md:px-20 md:py-5",children:Object(b.jsxs)("div",{className:"flex flex-col items-center ",children:[j&&Object(b.jsxs)("div",{class:"max-w-md py-4 px-8 bg-white shadow rounded-lg my-12 w-full min-w-full",children:[Object(b.jsxs)("div",{class:"flex justify-center md:justify-end -mt-16",children:[Object(b.jsx)("img",{class:"w-20 h-20 object-cover rounded-full border-2 border-indigo-500 cursor-pointer",src:D||"https://res.cloudinary.com/rupamcloud/image/upload/v1631867064/uplaod_bkswrb.png",onClick:function(){m.current.click()}}),Object(b.jsx)("input",{type:"file",accept:"image/*",hidden:!0,ref:m,onChange:z})]}),Object(b.jsxs)("div",{className:"",children:[Object(b.jsx)("input",{class:"text-gray-800 text-3xl font-sm bold pb-2 mt-2 w-full p-2 outline-none",placeholder:"Name",autoFocus:!0,onChange:function(e){O(e.target.value)},required:!0}),Object(b.jsx)("input",{className:"text-blue-400 my-4 w-full p-2 outline-none",placeholder:"Role",onChange:function(e){w(e.target.value)},required:!0}),Object(b.jsx)("br",{}),Object(b.jsx)("textarea",{class:"mt-2 text-gray-600 w-full h-auto p-2 outline-none",rows:5,placeholder:"about",onChange:function(e){T(e.target.value)}}),Object(b.jsxs)("div",{className:"flex justify-end",children:[Object(b.jsx)("button",{onClick:function(){return h(!1)},className:"py-2 px-3 border-0 border-blue-400  text-gray-500 mx-4 rounded font-bold text-sm  transition duration-100",children:"Cancel"}),Object(b.jsx)("button",{onClick:I,className:"py-2 px-3 border-2 border-blue-400  text-white rounded font-bold text-sm bg-blue-600 transition duration-100",children:"Add"})]})]})]}),c&&c.map((function(e){return Object(b.jsxs)("div",{class:"max-w-md py-4 px-8 bg-white border rounded-lg my-12 min-w-full",children:[Object(b.jsx)("div",{class:"flex justify-center md:justify-end -mt-14",children:Object(b.jsx)("img",{class:"w-20 h-20 object-cover rounded-full border-2 border-blue-500",src:e.profile_pic})}),Object(b.jsxs)("div",{className:"md:block flex flex-col items-center",children:[Object(b.jsx)("h2",{class:"text-gray-800 text-3xl font-semibold pb-2",children:e.name}),Object(b.jsx)("h5",{className:"text-blue-400",children:e.role}),Object(b.jsx)("p",{class:"mt-2 text-gray-600",children:e.about}),!n&&Object(b.jsx)("div",{className:"flex justify-end mt-4 w-full",children:Object(b.jsx)(S.H,{className:"cursor-pointer text-red-500",onClick:function(){G(e._id)}})})]})]},e._id)}))]})})]})}function Pt(e){var t,n,r=e.ngoData,a=e.forPublic,c=Object(s.useState)(null),l=Object(u.a)(c,2),d=l[0],j=l[1],h=Object(s.useState)(null),m=Object(u.a)(h,2),x=m[0],p=m[1],f=Object(s.useState)(null),O=Object(u.a)(f,2),g=O[0],v=O[1],y=Object(s.useState)(null),w=Object(u.a)(y,2),N=w[0],k=w[1],A=Object(s.useState)([]),T=Object(u.a)(A,2),P=T[0],E=T[1],D=Object(s.useState)(null),R=Object(u.a)(D,2),z=R[0],L=R[1],I=Object(s.useState)(null),G=Object(u.a)(I,2),H=G[0],W=G[1],B=Object(s.useRef)(null),U=Object(s.useState)(null),M=Object(u.a)(U,2),F=M[0],J=M[1],Y=Object(s.useRef)(null);Object(s.useEffect)((function(){r.ngoDetails&&(j(r.ngoDetails.name),p(r.ngoDetails.email),v(r.ngoDetails.phone),k(r.ngoDetails.about),L(r.ngoDetails.website),E(r.ngoDetails.media_urls))}),[r.ngoDetails]);var q=function(){B.current.style.display="flex"},Z=function(){B.current.style.display="none"},V=function(){var e=Object(C.a)(_.a.mark((function e(t){var n,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.files[0],e.next=4,K(n);case 4:s=e.sent,W(s),J({url:s,type:"image",isUploading:!0}),q(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),K=function(e){return new Promise((function(t){je.a.imageFileResizer(e,736,900,"JPEG",90,0,(function(e){t(e)}),"base64")}))},Q=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.promise(Ze({name:d,phone:g,about:N,website:z}),{pending:"Updating..",success:"Updated Successfully",error:"Something went wrong"});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:(n=Object(o.a)({},r.ngoDetails)).name=t.name,n.phone=t.phone,n.about=t.about,n.website=t.website,r.setNgoDetails(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(),e.next=3,i.b.promise(Ke({imageBase64:H}),{pending:"Uploading....",success:"Uploaded",error:"Something went wrong"});case 3:if(t=e.sent,n=t.newMediaList,J(null),W(null),n){e.next=9;break}return e.abrupt("return");case 9:E(n),(s=Object(o.a)({},r.ngoDetails)).media_urls=n,r.setNgoDetails(s);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"min-h-full bg-gray-50 w-full px-0 py-4 flex flex-col justify-start items-center ",children:[Object(b.jsxs)("div",{className:"md:w-5/6 md:h-auto rounded-2xl w-full bg-white border",children:[Object(b.jsx)("div",{className:"border-b-2 border-gray-100 h-40 mb-4",children:(null===(t=r.ngoDetails)||void 0===t?void 0:t.geo_location)&&Object(b.jsx)(ye,{markers:[],region:[r.ngoDetails.geo_location.longitude,r.ngoDetails.geo_location.latitude],pins:[{longitude:r.ngoDetails.geo_location.longitude,latitude:r.ngoDetails.geo_location.latitude,address:r.ngoDetails.geo_location.address}]})}),Object(b.jsxs)("div",{className:"md:px-12 px-5",children:[Object(b.jsx)(St,{placeholder:d,textClass:"md:text-5xl text-3xl mr-2 focus:outline-none px-1 py-1 mb-2 font-bold",onChangeText:function(e){return j(e)},isEditable:!1}),r.ngoDetails&&Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)(Ye.h,{size:16,className:"mr-2"}),Object(b.jsx)("span",{children:"Email: "}),Object(b.jsx)(St,{placeholder:x,addedClass:"text-red-900",onChangeText:function(e){return p(e)},isEditable:!1})]}),Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)(Ye.k,{size:16,className:"mr-2"}),Object(b.jsx)("span",{children:"Phone: "}),Object(b.jsx)(St,{placeholder:g,addedClass:"text-blue-600",onChangeText:function(e){return v(e)},isEditable:!a})]}),Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)(Ye.d,{size:16,className:"mr-2"}),Object(b.jsx)("span",{children:"Website: "}),Object(b.jsx)(St,{placeholder:z,addedClass:"text-blue-600 text-sx",onChangeText:function(e){return L(e)},isEditable:!a,isLink:!0})]}),Object(b.jsx)("div",{className:"mt-4 mb-2",children:"About Us:"}),Object(b.jsx)("textarea",{className:"min-w-full  bg-transparent about focus:outline-none border p-3",rows:3,value:N||"",onChange:function(e){a||k(e.target.value)},readOnly:a})]}),!a&&Object(b.jsx)("div",{className:"flex px-12 mt-4 mb-12",children:Object(b.jsx)("button",{onClick:Q,className:"py-2 px-3 border-2 border-blue-400  text-white rounded font-bold text-sm bg-blue-600 transition duration-100",children:"Update"})})]}),Object(b.jsx)(Tt,{membersList:null===(n=r.ngoDetails)||void 0===n?void 0:n.members,forPublic:a}),Object(b.jsxs)("div",{className:"md:w-5/6 md:h-auto w-full px-4 py-4 border md:px-20 md:pb-4 rounded-2xl bg-white mt-10",children:[Object(b.jsxs)("div",{className:"md:py-10 p-4 flex justify-between items-center",children:[Object(b.jsx)("h1",{className:"text-blue-500 text-lg md:text-2xl font-medium",children:"Photos"}),!a&&Object(b.jsx)(S.K,{className:"text-xl text-gray-500 cursor-pointer",onClick:function(){Y.current.click()}}),Object(b.jsx)("input",{type:"file",accept:"image/*",hidden:!0,ref:Y,onChange:V})]}),Object(b.jsx)("div",{className:"container grid grid-cols-3 gap-2 mx-auto",children:null===P||void 0===P?void 0:P.map((function(e){return Object(b.jsx)("div",{className:"w-full rounded",children:Object(b.jsx)("img",{src:e.url,alt:"image",className:"cursor-pointer",onClick:function(){J(e),q()}})},e.url)}))})]}),Object(b.jsx)("div",{id:"myModal",className:"modal flex justify-center items-center py-10",ref:B,children:Object(b.jsxs)("div",{className:" h-full md:w-1/2 w-full px-4 rounded-md flex flex-col items-center justify-start ",children:[Object(b.jsxs)("div",{className:"flex justify-end w-full h-10 items-end",children:[F&&F.isUploading&&Object(b.jsx)("div",{className:" flex flex-col justify-center items-center mr-10 md:mr-20",children:!a&&Object(b.jsx)(S.K,{className:"text-xl text-gray-500 cursor-pointer ",onClick:function(){X()}})}),Object(b.jsx)("span",{className:"close text-red-400 text-5xl",onClick:Z,children:"\xd7"})]}),Object(b.jsx)("div",{className:"h-full py-1 md:py-20",children:F&&Object(b.jsx)("img",{src:F.url,className:"w-auto max-h-full"})})]})})]})}n(210);function Et(e){var t=e.children,n=Object(s.useRef)(null);var r=Object(s.useContext)(rt),a=Object(d.f)();Object(s.useEffect)((function(){r.isLoggedIn||a.push("/ngo/login")}),[r.isLoggedIn]);var c=function(){var e=Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re({});case 2:t=e.sent,t.success?(x.a.remove("access_token_ngo"),x.a.remove("refresh_token_ngo"),r.setIsLoggedIn(!1),a.push("/ngo/login")):alert("Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"md:bg-transparent md:hidden top-0 sticky bg-white shadow py-2",children:Object(b.jsx)("span",{className:"text-4xl cursor-pointer mx-5",onClick:function(){n.current.style.width="250px"},children:"\u2630"})}),Object(b.jsxs)("div",{class:"min-h-screen flex flex-row",children:[Object(b.jsxs)("div",{class:"flex flex-col bg-white min-h-screen overflow-hidden z-50 md:z-0 fixed md:sticky sidenav md:w-72 w-0 shadow-md",ref:n,children:[Object(b.jsxs)("div",{class:"flex  items-center justify-evenly h-38 shadow  py-5",children:[Object(b.jsx)(l.b,{to:"/",children:Object(b.jsx)("h1",{class:"text-3xl text-blue-500 font-bold uppercase",children:"Aashroy"})}),Object(b.jsx)("span",{className:"text-4xl cursor-pointer md:hidden",onClick:function(){n.current.style.width="0"},children:"\xd7"})]}),Object(b.jsxs)("ul",{class:"flex flex-col py-10 ",children:[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/ngo/home",children:Object(b.jsxs)("div",{href:"#",class:" outline-none flex flex-row items-center h-12 hover:bg-blue-100 py-8 border-l-4 hover:border-blue-500 border-transparent",children:[Object(b.jsx)("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-800",children:Object(b.jsx)(S.M,{className:"text-blue-900"})}),Object(b.jsx)("span",{class:" text-sm text-blue-900 ",children:"Dashboard"})]})})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/ngo/donations",children:Object(b.jsxs)("div",{href:"#",class:"outline-none flex flex-row items-center h-12 hover:bg-blue-100 py-8 border-l-4 hover:border-blue-500 border-transparent",children:[Object(b.jsx)("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-800",children:Object(b.jsx)(S.k,{className:"text-blue-900"})}),Object(b.jsx)("span",{class:"text-sm  text-blue-900",children:"Donations"})]})})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/ngo/homeless",children:Object(b.jsxs)("div",{href:"#",class:"outline-none flex flex-row items-center h-12 hover:bg-blue-100 py-8 border-l-4 hover:border-blue-500 border-transparent",children:[Object(b.jsx)("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-800",children:Object(b.jsx)(S.L,{className:"text-blue-900"})}),Object(b.jsx)("span",{class:"text-sm  text-blue-900",children:"Homeless"})]})})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/ngo/crime",children:Object(b.jsxs)("div",{href:"#",class:"outline-none flex flex-row items-center h-12 hover:bg-blue-100 py-8 border-l-4 hover:border-blue-500 border-transparent",children:[Object(b.jsx)("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-800",children:Object(b.jsx)(G.b,{className:"text-blue-900"})}),Object(b.jsx)("span",{class:"text-sm  text-blue-900",children:"Crime Reports"})]})})}),Object(b.jsx)("li",{children:Object(b.jsxs)("div",{href:"#",class:" cursor-pointer outline-none flex flex-row items-center h-12 hover:bg-blue-100 py-8 border-l-4 hover:border-red-500 border-transparent",onClick:c,children:[Object(b.jsx)("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-800",children:Object(b.jsx)(S.E,{className:"text-red-500"})}),Object(b.jsx)("span",{class:"text-sm text-red-500",children:"Logout"})]})})]})]}),t]})]})}n(211);function Dt(e){e.children;var t=Object(s.useContext)(rt);return Object(b.jsx)(Et,{children:Object(b.jsx)(Pt,{ngoData:t,forPublic:!1})})}function Rt(e){return zt.apply(this,arguments)}function zt(){return(zt=Object(C.a)(_.a.mark((function e(t){var n,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.prev=1,e.next=4,fetch(B+"/api/ngo/public/get/"+n,{method:"GET"}).then((function(e){return e.json()}));case 4:return s=e.sent,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{ngo:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Lt(e){return It.apply(this,arguments)}function It(){return(It=Object(C.a)(_.a.mark((function e(t){var n,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.diameter,s=t.geo_location,e.prev=1,e.next=4,fetch(B+"/api/ngo/public/nearest/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({diameter:n,geo_location:s})}).then((function(e){return e.json()}));case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{ngo:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Gt(e,t,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(C.a)(_.a.mark((function e(t,n,s){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(B+"/api/ngo/public/search/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchQuery:t,skip:n,limit:s})}).then((function(e){return e.json()}));case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{ngos:null});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Wt(e){var t=Object(s.useState)(null),n=Object(u.a)(t,2),r=(n[0],n[1],Object(s.useState)(null)),a=Object(u.a)(r,2),c=a[0],o=a[1],i=function(){var t=Object(C.a)(_.a.mark((function t(){var n,s,r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params.id,t.next=3,Rt({id:n});case 3:s=t.sent,r=s.ngo,console.log(r),o(r);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){i()}),[]),c?Object(b.jsx)("div",{children:Object(b.jsx)(Pt,{forPublic:!0,ngoData:{ngoDetails:c}})}):Object(b.jsx)("div",{})}n.p;var Bt=n.p+"static/media/onlinespt.f1cc555e.svg",Ut=function(){return Object(b.jsxs)("div",{className:"text-left p-10 ",children:[Object(b.jsxs)("div",{className:"text-5xl font-bold",children:["Our",Object(b.jsx)("br",{}),"Support",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"@",Object(b.jsx)("br",{})]}),Object(b.jsxs)("div",{className:"py-5 text-base space-y-4 text-gray-700 md:w-auto ",children:["Email : aashroy@gmail.com",Object(b.jsx)("br",{}),"Reg. Office at :",Object(b.jsx)("br",{}),"XYZ Lane",Object(b.jsx)("br",{}),"YZ Street",Object(b.jsx)("br",{}),"AZ, RT-100000",Object(b.jsx)("br",{}),"Phone number : +91 - 10000 - 10000",Object(b.jsx)("br",{})," Twitter Link \xa0 Insta Link \xa0 FB Link \xa0",Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})]})};function Mt(e){return Object(b.jsxs)("div",{className:"pb-20 ",children:[Object(b.jsx)("div",{class:"flex items-center justify-center",children:Object(b.jsx)("div",{className:"mb-6 rounded-full bg-white shadow-2xl",children:Object(b.jsx)("img",{class:"object-cover h-32 w-32 rounded-full",src:e.image,alt:"Homeless people"})})}),Object(b.jsx)("div",{className:"text-base space-y-4 text-gray-700 ",children:e.name}),Object(b.jsx)("div",{className:"text-base space-y-4 text-blue-400  font-bold",children:e.year}),Object(b.jsx)("div",{className:" text-base space-y-4 text-blue-500  ",children:e.branch})]})}var Ft=function(){return Object(b.jsx)(Le,{navbarSolid:!0,children:Object(b.jsxs)("div",{className:"flex flex-col w-screen h-auto pt-16",children:[Object(b.jsxs)("div",{className:"flex flex-row  ",children:[Object(b.jsxs)("div",{className:"lg:w-2/4 w-full",children:[" ",Object(b.jsx)(Ut,{})]}),Object(b.jsx)("div",{className:"md:block w-2/4 hidden ",children:Object(b.jsx)("div",{className:"bg-white h-full  bg-gradient-to-l from-blue-300 via-white to-white flex items-center justify-center  ",children:Object(b.jsx)("img",{class:"object-cover",src:Bt,alt:"Homeless people"})})})]}),Object(b.jsx)("div",{className:"flex flex-col justify-center bg-blue-700 h-44  ",children:Object(b.jsx)("div",{className:"text-center text-3xl text-white font-bold",children:"Our Team"})}),Object(b.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-center h-auto text-center -mt-10",children:[Object(b.jsxs)("div",{className:"w-full",children:[" ",Object(b.jsx)(Mt,{image:"https://avatars.githubusercontent.com/u/34038003?v=4",name:"Rupam Jyoti Das",year:"3rd year",branch:"Computer Science and Engineering"})]}),Object(b.jsxs)("div",{className:"w-full",children:[Object(b.jsx)(Mt,{image:"https://avatars.githubusercontent.com/u/55778353?v=4",name:"Rishparn Gogoi",year:"3rd year",branch:"Computer Science and Engineering"})," "]}),Object(b.jsxs)("div",{className:"w-full",children:[Object(b.jsx)(Mt,{image:"https://avatars.githubusercontent.com/u/52529195?v=4",name:"Debashish Gogoi",year:"3rd year",branch:"Computer Science and Engineering"})," "]}),Object(b.jsxs)("div",{className:"w-full",children:[Object(b.jsx)(Mt,{image:"https://avatars.githubusercontent.com/u/6097271?v=4",name:"Forheen Ahmed",year:"2nd year",branch:"Instrumentation Engineering"})," "]})]})]})})},Jt=function(e,t){var n=w(),s=g();return fetch("".concat(B,"/api/ngo/donation/our-donation/").concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n," ").concat(s)}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){}))},Yt=function(e,t){var n=w(),s=g();return fetch("".concat(B,"/api/ngo/donation/accept-donation"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n," ").concat(s)},body:JSON.stringify({donationId:t})}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){e(!1)}))},qt=function(e,t){var n=w(),s=g();return fetch("".concat(B,"/api/ngo/donation/received-donation"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n," ").concat(s)},body:JSON.stringify({donationId:t})}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){return v(e),e})).catch((function(e){return console.log(e)})).finally((function(){e(!1)}))};var Zt=function(e){var t=e.donation;return Object(b.jsxs)("div",{id:"donation-card-container",className:" w-full p-3 my-2 shadow lg:w-2/3 lg:p-5",children:[Object(b.jsxs)("div",{className:"flex items-center my-2",children:[Object(b.jsx)("div",{className:"h-10 w-10 flex justify-center items-center bg-gray-500 rounded-full",children:t.donor.profile_pic&&t.donor.profile_pic.length>0&&Object(b.jsx)("a",{href:"/general/profile/".concat(t.donor._id),children:Object(b.jsx)("img",{src:t.donor.profile_pic,alt:"profile",className:"rounded-full object-contain"})})}),Object(b.jsx)("div",{className:"mx-2 font-semibold text-md",children:t.donor_name})]}),Object(b.jsxs)("div",{className:"text-gray-500 my-2",children:[Object(b.jsx)("span",{className:"mr-1 text-sm",children:"wants to donate :"}),Object(b.jsx)("span",{className:"font-semibold text-green-700 uppercase",children:t.type}),Object(b.jsx)("div",{className:"mt-2 text-sm",children:"Details of donation : "}),Object(b.jsxs)("div",{className:"flex flex-wrap my-1",children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("span",{className:"mr-1",children:"Length :"}),Object(b.jsxs)("span",{className:"mr-1 text-black font-semibold",children:[t.dimensions[0],","]})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("span",{className:"mr-1",children:"Width :"}),Object(b.jsxs)("span",{className:"mr-1 text-black font-semibold",children:[t.dimensions[1],","]})]}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("span",{className:"mr-1",children:"Height :"}),Object(b.jsx)("span",{className:"mr-1 text-black font-semibold",children:t.dimensions[2]})]})]}),Object(b.jsx)("span",{className:"mr-1",children:"Weight :"}),Object(b.jsx)("span",{className:"mr-1 text-black font-semibold",children:t.weight}),Object(b.jsxs)("div",{className:"flex item-center mt-2",children:[Object(b.jsx)("div",{className:"text-sm",children:"Contact :"}),Object(b.jsxs)("a",{className:"flex items-center text-blue-500 mx-1 mb-2",href:"tel:".concat(t.contact_number),children:[Object(b.jsx)(S.C,{className:"text-blue-500 mr-2"}),t.contact_number]})]}),Object(b.jsx)("div",{className:"h-60 flex overflow-x-auto mb-3",children:t.media_urls.map((function(e,t){return Object(b.jsx)("img",{src:e.url,alt:"previews",className:"h-full mr-2"},t)}))}),Object(b.jsx)("span",{className:"text-sm mr-1",children:"Status :"}),Object(b.jsx)("span",{className:"uppercase",children:t.is_accepted_by_ngo?t.is_accepted_by_ngo&&!t.is_donation_received?"accepted but not received yet":t.is_accepted_by_ngo&&t.is_donation_received?"donation received":void 0:"not accepted yet"})]})]})};var Vt=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!1),c=Object(u.a)(a,2),o=c[0],l=c[1],d=function(){var e=Object(C.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:if(window.confirm("Are you sure to accept this donation?")){e.next=4;break}return e.abrupt("return");case 4:return l(!0),e.prev=5,e.next=8,i.b.promise(Yt(l,t),{pending:"Uploading data",success:"Successfully uploaded",error:"Oops! Something went wrong"});case 8:r((function(e){var t=Object(ue.a)(e);return t[n].is_accepted_by_ngo=!0,t})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),i.b.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(C.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:if(window.confirm("Are you sure to mark this donation received?")){e.next=4;break}return e.abrupt("return");case 4:return l(!0),e.prev=5,e.next=8,i.b.promise(qt(l,t),{pending:"Uploading data",success:"Successfully uploaded",error:"Oops! Something went wrong"});case 8:r((function(e){var t=Object(ue.a)(e);return t[n].is_donation_received=!0,t})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),i.b.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt(0,1e3);case 2:t=e.sent,console.log(t.donations),r(t.donations||[]);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(b.jsx)(Et,{children:Object(b.jsxs)("div",{className:"w-full h-full flex flex-col p-3 items-center",children:[n.length<1&&Object(b.jsxs)("div",{className:"flex flex-col items-center",children:[Object(b.jsx)("img",{className:"w-1/2",src:"https://img.freepik.com/free-vector/volunteers-packing-donation-boxes_74855-5299.jpg?size=626&ext=jpg",alt:"vectorgraphic"}),Object(b.jsx)("span",{className:"text-gray-500",children:"No Donations yet"})]}),n.map((function(e,t){return Object(b.jsxs)("div",{className:"w-full mb-2 flex flex-col items-center",children:[Object(b.jsx)(Zt,{donation:e}),Object(b.jsxs)("div",{className:"w-full flex p-2 lg:w-2/3",children:[!e.is_accepted_by_ngo&&Object(b.jsx)("button",{onClick:function(){return d(e._id,t)},disabled:o,className:"bg-blue-500 focus:bg-blue-600 text-white p-2 rounded",children:"Accept Donation"}),e.is_accepted_by_ngo&&!e.is_donation_received&&Object(b.jsx)("button",{onClick:function(){return j(e._id,t)},disabled:o,className:"bg-green-500 focus:bg-green-600 text-white p-2 rounded",children:"Mark Donation as Received"})]})]},t)}))]})})};function Kt(e){var t=e.value,n=e.onChange,s=e.onSearchClick,r=e.containerClass,a=e.placeholder;return Object(b.jsxs)("div",{className:"w-full md:w-2/5 shadow flex item-center rounded justify-center bg-white py-3 px-6 "+r,children:[Object(b.jsx)("input",{className:"w-full outline-none text-lg ",placeholder:a||"Search",value:t,onChange:function(e){n(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&s()}}),Object(b.jsx)(Ye.l,{className:"text-2xl text-blue-400 cursor-pointer",onClick:s})]})}var Qt=function(e){var t=e._id,n=e.name,s=e.about,r=e.geo_location;return Object(b.jsxs)("div",{className:"px-6 py-5 my-4 bg-white shadow rounded md:w-2/5 w-full",children:[Object(b.jsx)(l.b,{to:"/ngo/profile/"+t,children:Object(b.jsx)("h3",{className:"text-xl font-bold mb-1",children:n})}),Object(b.jsx)("p",{className:"text-blue-400 mb-3",children:r.address}),Object(b.jsxs)("p",{className:"text-gray-500 italic",children:[s.substr(0,150)," ..."]}),Object(b.jsx)("div",{className:"flex justify-end mt-4",children:Object(b.jsx)("a",{href:"/general/donate/"+t,className:"mr-6 text-white flex flex-col items-center",children:Object(b.jsxs)("div",{className:"py-2 px-5 flex border-white bg-green-500 rounded font-bold text-sm transition duration-100 cursor-pointer text-center md:mb-0 mb-5",children:[Object(b.jsx)(S.k,{className:"text-xl mr-2"}),"Donate"]})})})]})},Xt=function(){return Object(b.jsxs)("div",{className:"p-5 my-4 bg-white shadow rounded animate-pulse md:w-2/5 w-full",children:[Object(b.jsx)("div",{className:"text-lg font-bold bg-gray-200 h-12 w-1/2 mb-2"}),Object(b.jsx)("div",{className:"text-blue-400 bg-gray-200 h-8 w-1/4 mb-2"}),Object(b.jsx)("div",{className:"text-gray-500 bg-gray-200 italic h-20 w-full"})]})};function $t(){var e=Object(s.useState)([1,2,3,4,5,6]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),c=Object(u.a)(a,2),i=c[0],l=c[1],d=Object(s.useState)(""),j=Object(u.a)(d,2),h=j[0],m=j[1],x=Object(s.useState)(""),p=Object(u.a)(x,2),f=(p[0],p[1],Object(s.useState)(!0)),O=Object(u.a)(f,2),g=O[0],v=O[1],y=Object(s.useState)(0),w=Object(u.a)(y,2),N=w[0],k=w[1],S=Object(s.useState)(!1),A=Object(u.a)(S,2),T=(A[0],A[1]),P=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n,s,a,c,o,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:return t=e.sent,n=t.coords,s=n.latitude,a=n.longitude,e.next=6,Lt({diameter:-1,geo_location:{latitude:s,longitude:a}});case 6:if(c=e.sent,o=c.ngos){e.next=10;break}return e.abrupt("return");case 10:i=Object(ue.a)(o).sort((function(e,t){return e.clossness-t.clossness})),r(i),v(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){P()}),[]);var E=function(){var e=Object(C.a)(_.a.mark((function e(){var t,s,a,c,o,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.length<2)){e.next=2;break}return e.abrupt("return");case 2:return v(!0),t=new Date,e.next=6,Gt(h,N,2);case 6:if(s=e.sent,(a=s.ngos)&&(0!=a.length||0==n.length)){e.next=13;break}return l("No results found"),v(!1),r([]),e.abrupt("return");case 13:r(a),0==a.length&&T(!1),k(N+2),T(!0),v(!1),c=new Date,o=c-t,i=Math.round(o),l("".concat(a.length," results in ").concat(i/1e3," seconds"));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:" w-full min-h-full flex flex-col items-center",children:[Object(b.jsxs)("div",{className:"w-full pt-14 pb-10 bg-blue-600 justify-center items-center flex flex-col",children:[Object(b.jsx)("div",{className:"text-4xl font-bold text-white mb-4",children:"NGO Search"}),Object(b.jsx)("div",{className:"w-full min-h-full flex flex-col items-center px-2 pt-6",children:Object(b.jsx)(Kt,{onChange:function(e){m(e),k(0)},value:h,containerClass:g?"":"sticky top-2",onSearchClick:E})})]}),i.length>0?Object(b.jsx)("p",{className:"text-gray-400 mt-5",children:i}):null,0===n.length?Object(b.jsxs)("div",{className:"flex justify-center items-center flex-col pb-20 pt-10",children:[Object(b.jsx)("div",{className:"text-gray-500",children:"Begin your search"}),Object(b.jsx)("img",{src:"https://domains.google.com/m/assets/frontend/registrarapp/main/client/common/search/resources/images//search_2x.png"})]}):Object(b.jsx)(b.Fragment,{children:n.map((function(e){return g?Object(b.jsx)(Xt,{}):Object(b.jsx)(Qt,Object(o.a)({},e))}))})]})}var en=n(97);function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.geo_location,s=t.diameter,r=t.days,e.prev=1,a="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/homeless/data/get/locationwise",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({geo_location:n,diameter:s,days:r})}).then((function(e){return e.json()}));case 5:return c=e.sent,y(c),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{homeless_list:null});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function sn(e){return rn.apply(this,arguments)}function rn(){return(rn=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,s=t.diameter,r=t.days,e.prev=1,a="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/homeless/data/get/addresswise",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({address:n,diameter:s,days:r})}).then((function(e){return e.json()}));case 5:return c=e.sent,y(c),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{homeless_list:[],topImages:[{url:"https://i.stack.imgur.com/y9DpT.jpg"}],msg:"No results"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function an(e){return cn.apply(this,arguments)}function cn(){return(cn=Object(C.a)(_.a.mark((function e(t){var n,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,s="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/homeless/data/get/person",{method:"POST",headers:{"Content-Type":"application/json",Authorization:s},body:JSON.stringify({_id:n})}).then((function(e){return e.json()}));case 5:return r=e.sent,y(r),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}n(212);var on=function(e){e.homelessList;var t=e.handleImageClick,n=e.containerClass,s=e.homelessMap;return Object(b.jsx)("div",{className:n,children:Object(b.jsx)("div",{className:"px-2",children:Object.entries(s).map((function(e){var n=e[0],s=e[1];return Object(b.jsxs)("div",{className:"my-5",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("h2",{className:"text-gray-600 font-bold",children:[n," :"]})}),Object(b.jsx)("div",{className:"container mx-auto mt-2",children:s.map((function(e){return Object(b.jsxs)("div",{className:"container grid grid-cols-3 gap-1 mx-auto w-full",onClick:function(){t(e)},children:[e.media_url&&e.media_url.map((function(e){return Object(b.jsx)("div",{className:"w-full rounded my-2",children:Object(b.jsx)("img",{src:e.url,alt:"image",className:"cursor-pointer"})},e.url)})),e.media_urls&&e.media_urls.map((function(n){return Object(b.jsx)("div",{className:"w-full rounded my-2",children:Object(b.jsx)("img",{src:n.url,alt:"image",className:"cursor-pointer",onClick:function(){t(e)}})},n.url)}))]})}))})]})}))})})},ln=function(e){var t=e.topImages,n=e.heading,r=e.info.totalPeople,a=e.handleViewPhotoClick,c=e.handleVisualizeClick,o=e.handleMapShowClick,i=e.diameter,l=e.days,d=Object(s.useRef)(null);return Object(s.useEffect)((function(){console.log("HEREE!!!!",t)}),[]),Object(b.jsxs)("div",{className:"w-full h-auto mt-2 rounded",children:[Object(b.jsx)("div",{className:"w-full  max-h-64 overflow-hidden bg-red-500",children:Object(b.jsx)("img",{src:t[0].url,ref:d,className:"w-full h-full object-cover"})}),Object(b.jsxs)("div",{className:"py-4 flex items-center px-5 bg-white border",children:[Object(b.jsx)("div",{className:"p-3 bg-blue-100 rounded-full mr-5",children:Object(b.jsx)(G.c,{className:"text-2xl text-blue-700"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"text-xl text-blue-600 font-bold",children:n}),Object(b.jsxs)("div",{className:"text-black",children:["Showing within ",i," km and ",l," days"]})]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"w-full py-4 px-5 mt-2 flex items-center justify-content p-2 text-red-700 text-sm bg-white border",children:[Object(b.jsx)("div",{className:"p-3 bg-red-100 rounded-full mr-5",children:Object(b.jsx)(G.d,{className:"text-2xl text-red-700"})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"text-lg",children:[r," Reports "]}),Object(b.jsx)("div",{className:"text-black",children:"Check reports by searching"})]})]}),Object(b.jsxs)("div",{className:"flex justify-evenly my-4 items-center flex-col",children:[c&&Object(b.jsxs)("button",{onClick:c,className:"bg-white border w-full py-4 px-5 flex items-center justify-between p-2 text-blue-700 hover:text-white hover:bg-blue-600 text-sm",children:[Object(b.jsxs)("div",{className:"flex items-center justify-between",children:[Object(b.jsx)("div",{className:"p-3 bg-blue-100 rounded-full mr-5",children:Object(b.jsx)(S.h,{className:"text-2xl text-blue-700"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"text-lg text-left",children:"Visualize"}),Object(b.jsx)("div",{className:"text-black",children:"View data in charts"})]})]}),Object(b.jsx)(Ye.a,{size:30})]}),o&&Object(b.jsxs)("button",{onClick:o,className:"bg-white border w-full py-4 px-5 flex items-center justify-between p-2 text-blue-700 hover:text-white hover:bg-blue-600 text-sm",children:[Object(b.jsxs)("div",{className:"flex items-center justify-between",children:[Object(b.jsx)("div",{className:"p-3 bg-blue-100 rounded-full mr-5",children:Object(b.jsx)(S.y,{className:"text-2xl text-blue-700"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"text-lg text-left",children:"Show Map "}),Object(b.jsx)("div",{className:"text-black",children:"Check reports on an interactive map"})]})]}),Object(b.jsx)(Ye.a,{size:30})]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("button",{onClick:a,className:"bg-white border w-full py-4 px-5 flex items-center justify-between p-2 text-yellow-700 hover:text-white hover:bg-yellow-600 text-sm",children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("div",{className:"p-3 bg-yellow-100 rounded-full mr-5",children:Object(b.jsx)(G.f,{className:"text-2xl text-yellow-700"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"text-lg text-left",children:"View Photos "}),Object(b.jsx)("div",{className:"text-black",children:"Check reports by searching"})]})]}),Object(b.jsx)(Ye.a,{size:30})]})]})},dn=function(e){var t=e.person_name,n=e.age_group,s=e.gender,r=e.media_url;e.containerClass;return t?Object(b.jsxs)("div",{className:"bg-white shadow rounded my-4 pt-5",children:[Object(b.jsxs)("div",{className:"px-5",children:[Object(b.jsxs)("h2",{className:"font-bold",children:["Name: ",Object(b.jsx)("span",{className:"capitalize",children:t})," "]}),Object(b.jsx)("img",{src:r.url,className:"mt-4"})]}),Object(b.jsx)("div",{className:"mt-5",children:Object(b.jsxs)("div",{className:"flex ",children:[Object(b.jsxs)("div",{className:"w-1/2 text-center py-2 border",children:[Object(b.jsx)("div",{className:"font-bold mb-1 ",children:"Age"}),Object(b.jsx)("div",{children:n})]}),Object(b.jsxs)("div",{className:"w-1/2 text-center py-2 border",children:[Object(b.jsx)("div",{className:"font-bold mb-1 ",children:"Gender"}),Object(b.jsx)("span",{className:"capitalize",children:s})]})]})})]}):Object(b.jsx)(b.Fragment,{})},un=function(e){var t=e.diameter,n=e.setDiameter,s=e.hideModel,r=e.modelRef,a=e.days,c=e.setDays;return Object(b.jsx)("div",{id:"myModal",className:"fixed hidden z-10000 left-0 top-0 w-full h-full bg-black bg-opacity-50  justify-center items-center py-10 bg-transparent",ref:r,children:Object(b.jsxs)("div",{className:" h-full md:w-1/2 w-full px-4 rounded-md flex flex-col items-center justify-center ",children:[Object(b.jsx)("div",{className:"flex justify-end w-full h-10 items-end"}),Object(b.jsxs)("div",{className:"py-0 md:py-2 bg-gray-100 md:w-1/3 w-1/2 flex flex-col items-center rounded shadow",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center w-full px-4",children:[" ",Object(b.jsx)("h2",{className:"font-bold",children:"Filter By:"}),Object(b.jsx)("span",{className:"close text-red-400 text-2xl",onClick:s,children:"\xd7"})]}),Object(b.jsx)("ol",{className:"w-full mx-2 mt-2 "}),Object(b.jsxs)("div",{className:"bg-white w-full px-2 py-8",children:[Object(b.jsxs)("h2",{className:"font-bold",children:["Diameter of area :"," ",Object(b.jsxs)("span",{className:"text-red-500",children:[t," km"]})]}),Object(b.jsx)("input",{class:"rounded-lg overflow-hidden appearance-none bg-gray-400 h-3 w-full",type:"range",min:"1",max:"500",step:"5",value:t,onChange:function(e){n(e.target.value)},title:t})]}),Object(b.jsxs)("div",{className:"bg-white w-full px-2 py-8",children:[Object(b.jsxs)("h2",{className:"font-bold",children:["Last ",a," Days "]}),Object(b.jsx)("input",{class:"rounded-lg overflow-hidden appearance-none bg-gray-400 h-3 w-full",type:"range",min:"1",max:"100",step:"1",value:a,onChange:function(e){c(e.target.value)},title:a})]})]})]})})};function bn(){var e="main",t="gallery",n="persons",r=Object(s.useState)([]),a=Object(u.a)(r,2),c=a[0],i=a[1],l=Object(s.useState)(1),d=Object(u.a)(l,2),j=d[0],h=d[1],m=Object(s.useContext)(rt),x=Object(s.useState)(""),p=Object(u.a)(x,2),f=p[0],O=p[1],g=Object(s.useState)("place"),v=Object(u.a)(g,2),y=v[0],w=(v[1],Object(s.useState)("People arround ")),N=Object(u.a)(w,2),k=N[0],S=N[1],A=Object(s.useState)(20),T=Object(u.a)(A,2),P=T[0],E=T[1],D=Object(s.useState)([]),R=Object(u.a)(D,2),z=R[0],L=R[1],I=Object(s.useState)([]),G=Object(u.a)(I,2),H=G[0],W=G[1],B=Object(s.useState)(e),U=Object(u.a)(B,2),M=U[0],F=U[1],J=Object(s.useState)([""]),Y=Object(u.a)(J,2),q=Y[0],Z=Y[1],V=Object(s.useRef)(null),K=Object(s.useState)({}),Q=Object(u.a)(K,2),X=Q[0],$=Q[1],ee=function(){var e=Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.ngoDetails){e.next=3;break}return t=m.ngoDetails.geo_location,e.abrupt("return",t);case 3:return e.next=5,Oe();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n,s,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return t=e.sent,e.next=5,tn({geo_location:t,diameter:P,days:j});case 5:n=e.sent,s=n.homeless_list,r=n.topImages,a=n.homelessMap,s&&(Z(r),L(s),S("Near "+(null===(c=m.ngoDetails)||void 0===c?void 0:c.name))),$(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e;te(),S("People near "+(null===(e=m.ngoDetails)||void 0===e?void 0:e.name))}),[m.ngoDetails]);var ne=function(){var e=Object(C.a)(_.a.mark((function e(t){var s,r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t._id,e.next=3,an({_id:s});case 3:if(r=e.sent,a=r.homeless_person,!r.notfound){e.next=8;break}return e.abrupt("return");case 8:i(a),F(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(C.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=f){e.next=3;break}return te(),e.abrupt("return");case 3:"place"==y&&re();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n,s,r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn({address:f,diameter:P,days:j});case 2:if(t=e.sent,n=t.homeless_list,s=t.msg,r=t.topImages,a=t.homelessMap,n||r){e.next=12;break}return Z(r),S("no results"),L([]),e.abrupt("return");case 12:Z(r),S(s),L(n),$(a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){W(function(e){var t=[];return e.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.geo_location),{},{media_url:e.media_url}))})),t}(z))}),[z]);return Object(b.jsxs)("div",{className:"flex md:flex-row flex-col-reverse h-screen",children:[Object(b.jsxs)("div",{className:"md:flex-initial md:w-1/3 bg-gray-100 md:min-h-screen flex flex-col items-center py-4 px-4 h-1/3 md:overflow-y-auto",children:[Object(b.jsxs)("div",{className:"flex w-full items-center h-auto sticky top-0",children:[Object(b.jsx)(Kt,{placeholder:"Search by Location",onChange:function(e){O(e)},onSearchClick:function(){se()},containerClass:"flex-1 rounded",value:f}),Object(b.jsx)("div",{className:"md:ml-2 p-2 bg-white shadow rounded cursor-pointer text-blue-500 hover:bg-blue-500 hover:text-white transition duration-100",children:Object(b.jsx)(en.a,{className:"text-4xl ",onClick:function(){V.current.style.display="flex"}})})]}),M==e&&Object(b.jsx)(ln,{diameter:P,days:j,topImages:q,heading:k,info:{totalPeople:z.length},handleViewPhotoClick:function(){F(t)}}),M==t&&Object(b.jsxs)("div",{className:"mt-4",children:[Object(b.jsx)("button",{onClick:function(){F(e)},className:" text-blue-600 ",children:"\u2190 Back"}),z.length>0?Object(b.jsx)(on,{homelessList:z,handleImageClick:ne,containerClass:"mt-5",homelessMap:X}):null]}),M==n&&Object(b.jsx)("div",{className:"w-full mt-5",children:Object(b.jsxs)("div",{className:"px-2",children:[Object(b.jsx)("button",{onClick:function(){F(t)},className:" text-blue-600 ",children:"\u2190 Back"}),Object(b.jsxs)("h2",{className:"text-gray-500 font-bold pt-4 pb-2",children:["Peoples in this report:"," "]}),Object(b.jsx)("hr",{}),c&&c.map((function(e){return Object(b.jsx)(dn,Object(o.a)({},e))}))]})})]}),Object(b.jsx)("div",{className:"flex-1 bg-blue-300 md:min-h-screen  shadow",children:H.length>0?Object(b.jsx)(ye,{markers:H,region:[H[0].longitude,H[0].latitude],customPopup:jn}):Object(b.jsx)(ye,{region:[94.2463553,26.7459721]})}),Object(b.jsx)(un,{diameter:P,setDiameter:E,hideModel:function(){V.current.style.display="none"},modelRef:V,days:j,setDays:h})]})}var jn=function(e){return'<div><img src="'.concat(e.media_url[0].url,'" width=300/><h2 class="text-center mt-4 font-bold"> ').concat(e.address,"</h2></div>")};n(213);function hn(e){return mn.apply(this,arguments)}function mn(){return(mn=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.geo_location,s=t.diameter,r=t.days,e.prev=1,a="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/crime/data/get/locationwise",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({geo_location:n,diameter:s,days:r})}).then((function(e){return e.json()}));case 5:return c=e.sent,y(c),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{crime_list:null});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function xn(e){return pn.apply(this,arguments)}function pn(){return(pn=Object(C.a)(_.a.mark((function e(t){var n,s,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,s=t.diameter,r=t.days,e.prev=1,a="bearer "+w()+" "+g(),e.next=5,fetch(B+"/api/crime/data/get/addresswise",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a},body:JSON.stringify({address:n,diameter:s,days:r})}).then((function(e){return e.json()}));case 5:return c=e.sent,y(c),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{crime_list:[],topImages:[{url:"https://i.stack.imgur.com/y9DpT.jpg"}],msg:"No results"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var fn=n(169),On=n.n(fn),gn=function(e){var t=e.body,n=e.crimeType,s=e.title,r=e.place,a=e.date;return Object(b.jsxs)("div",{className:"bg-white shadow my-2 p-4",children:[Object(b.jsxs)("div",{className:"py-2",children:[Object(b.jsxs)("div",{className:"flex justify-between",children:[Object(b.jsx)("h2",{className:"font-bold",children:s}),Object(b.jsx)("h3",{className:"text-xs italic text-blue-400 transform scale-75 md:scale-100",children:On()(a).format("LLL")})]}),Object(b.jsx)("p",{className:"text-sm text-green-500",children:r})]}),Object(b.jsx)("div",{className:"py-2 text-red-400",children:Object(b.jsx)("p",{children:n})}),Object(b.jsx)("div",{className:"italic text-sm text-gray-500",children:Object(b.jsx)("p",{children:t})})]})},vn=n(170);function yn(e){var t=e.data,n=e.columns,s=Object(vn.useTable)({columns:n,data:t}),r=s.getTableProps,a=s.getTableBodyProps,c=s.headerGroups,i=s.rows,l=s.prepareRow;return Object(b.jsxs)("table",Object(o.a)(Object(o.a)({},r()),{},{className:"shadow text-sm w-full overflow-scroll",children:[Object(b.jsx)("thead",{className:"bg-gray-100 ",children:c.map((function(e){return Object(b.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(b.jsx)("th",Object(o.a)(Object(o.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(b.jsx)("tbody",Object(o.a)(Object(o.a)({},a()),{},{className:"my-2",children:i.map((function(e,t){return l(e),Object(b.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{className:"",children:e.cells.map((function(e){return Object(b.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{className:"py-2 border-2 border-gray-100 p-2",children:e.render("Cell")}))}))}))}))}))]}))}var wn=n(351),Nn=n(355),kn=n(102),_n=n(103),Cn=n(87),Sn=n(85),An=n(185),Tn=n(356),Pn=n(183);function En(e){var t=e.data,n=Object(s.useState)([]),r=Object(u.a)(n,2),a=r[0],c=r[1],o=function(e){var t=e.key_x,n=e._data,s=e.lines,r=void 0===s?[]:s,a=e.w,c=e.h;return Object(b.jsxs)(wn.a,{width:a,height:c,data:n,margin:{top:5,right:20,left:10,bottom:5},children:[Object(b.jsx)(Nn.a,{strokeDasharray:"3 3"}),Object(b.jsx)(kn.a,{dataKey:t}),Object(b.jsx)(_n.a,{}),Object(b.jsx)(Cn.a,{}),Object(b.jsx)(Sn.a,{}),r.map((function(e){var t=e.colour,n=e.key_y;return Object(b.jsx)(An.a,{type:"monotone",dataKey:n,stroke:t,activeDot:{r:8}})}))]})},i=function(e){var t=e.key_x,n=e._data,s=e.areas,r=void 0===s?[]:s,a=e.w,c=e.h;return Object(b.jsxs)(Tn.a,{width:a,height:c,data:n,margin:{top:10,right:30,left:0,bottom:0},children:[Object(b.jsx)(Nn.a,{strokeDasharray:"3 3"}),Object(b.jsx)(kn.a,{dataKey:t}),Object(b.jsx)(_n.a,{}),Object(b.jsx)(Cn.a,{}),r.map((function(e){var t=e.colour,n=e.key_y;return Object(b.jsx)(Pn.a,{type:"monotone",dataKey:n,stroke:t,activeDot:{r:8}})}))]})};return Object(s.useEffect)((function(){c(Dn(t))}),[t]),Object(b.jsxs)("div",{className:" w-full min-h-screen flex flex-col justify-center items-center",children:[Object(b.jsx)("div",{className:"my-8 md:block hidden shadow py-4 pr-4",children:Object(b.jsx)(o,{key_x:"date",lines:[{colour:"blue",key_y:"Number of crime reports"}],_data:a,w:800,h:400})}),Object(b.jsx)("div",{className:"my-8 md:hidden block",children:Object(b.jsx)(o,{key_x:"date",lines:[{colour:"blue",key_y:"Number of crime reports"}],_data:a,w:400,h:400})}),Object(b.jsx)("div",{className:"mt-8 md:block hidden shadow py-4 pr-4 rounded",children:Object(b.jsx)(i,{key_x:"date",areas:[{colour:"blue",key_y:"Number of crime reports"}],_data:a,w:790,h:400})}),Object(b.jsx)("div",{className:"mt-8 md:hidden block",children:Object(b.jsx)(i,{key_x:"date",areas:[{colour:"blue",key_y:"Number of crime reports"}],_data:a,w:400,h:400})})]})}var Dn=function(e){for(var t={},n=0;n<e.length;n++){var s=e[n].date;s=(s=(s=new Date(s).toString()).split(" "))[0]+" "+s[1]+" "+s[2],t.hasOwnProperty(s)?t[s]++:t[s]=1}var r=[];for(var a in t){var c={date:a,"Number of crime reports":t[a]};r.push(c)}return r};function Rn(e){var t=e.data,n=e.columns,r=Object(s.useState)(!0),a=Object(u.a)(r,2),c=a[0],o=a[1];return Object(b.jsxs)("div",{className:"p-4 w-full",children:[Object(b.jsxs)("div",{className:"flex justify-evenly py-2 z-50 my-1 sticky top-0 bg-white shadow items-center text-sm border-b-2 border-gray-100",children:[Object(b.jsxs)("div",{className:"flex flex-col items-center text-blue-500 cursor-pointer",onClick:function(){o(!0)},children:[Object(b.jsx)(S.G,{}),Object(b.jsx)("span",{children:"Table"})]}),Object(b.jsxs)("div",{className:"flex flex-col items-center text-blue-500 cursor-pointer",onClick:function(){o(!1)},children:[Object(b.jsx)(S.g,{}),Object(b.jsx)("span",{children:"Charts"})]})]}),Object(b.jsxs)("div",{className:"",children:[c&&Object(b.jsx)(yn,{columns:n,data:t}),!c&&Object(b.jsx)(En,{data:t})]})]})}var zn=[{Header:"Type",columns:[{Header:"Type",accessor:"type"},{Header:"Description",accessor:"type_description"}]},{Header:"Location",columns:[{Header:"Address",accessor:"reverse_geocoding_address"}]},{Header:"Report",columns:[{Header:"Description",accessor:"brief_report"}]}];function Ln(){var e="main",t="gallery",n=Object(s.useState)(!1),r=Object(u.a)(n,2),a=r[0],c=r[1],i=Object(s.useContext)(rt),l=Object(s.useState)(""),d=Object(u.a)(l,2),j=d[0],h=d[1],m=Object(s.useState)("place"),x=Object(u.a)(m,2),p=x[0],f=x[1],O=Object(s.useState)("People arround "),g=Object(u.a)(O,2),v=g[0],y=g[1],w=Object(s.useState)(10),N=Object(u.a)(w,2),k=N[0],S=N[1],A=Object(s.useState)([]),T=Object(u.a)(A,2),P=T[0],E=T[1],D=Object(s.useState)([]),R=Object(u.a)(D,2),z=R[0],L=R[1],I=Object(s.useState)(e),G=Object(u.a)(I,2),H=G[0],W=G[1],B=Object(s.useState)([""]),U=Object(u.a)(B,2),M=U[0],F=U[1],J=Object(s.useState)(7),Y=Object(u.a)(J,2),q=Y[0],Z=Y[1],V=Object(s.useRef)(null),K=Object(s.useState)({}),Q=Object(u.a)(K,2),X=Q[0],$=Q[1],ee=function(){V.current.style.display="flex"},te=function(){var e=Object(C.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.ngoDetails){e.next=3;break}return t=i.ngoDetails.geo_location,e.abrupt("return",t);case 3:return e.next=5,Oe();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n,s,r,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:return t=e.sent,e.next=5,hn({geo_location:t,diameter:k,days:q});case 5:n=e.sent,s=n.crime_list,r=n.topImages,a=n.crimeMap,s&&(F(r),E(s),y("Crimes near "+(null===(c=i.ngoDetails)||void 0===c?void 0:c.name))),$(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e;ne(),y("Crimes near "+(null===(e=i.ngoDetails)||void 0===e?void 0:e.name))}),[i.ngoDetails]);var se=function(){var e=Object(C.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=j){e.next=3;break}return ne(),e.abrupt("return");case 3:"place"==p&&re();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(C.a)(_.a.mark((function e(){var t,n,s,r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn({address:j,diameter:k,days:q});case 2:if(t=e.sent,n=t.crime_list,s=t.msg,r=t.topImages,a=t.crimeMap,n||r){e.next=12;break}return F(r),y("no results"),E([]),e.abrupt("return");case 12:F(r),y(s),E(n),$(a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){L(function(e){var t=[];return e.forEach((function(e){console.log(e),t.push(Object(o.a)(Object(o.a)({},e.geo_location),{},{type:e.type,type_description:e.type_description,media_url:e.media_urls}))})),console.log(t),t}(P))}),[P]);return Object(b.jsxs)("div",{className:"flex md:flex-row flex-col-reverse h-screen",children:[Object(b.jsxs)("div",{className:" shadow md:flex-initial md:flex-1 md:w-1/3 bg-gray-100 md:min-h-screen flex flex-col items-center py-4 px-4 h-1/3 md:overflow-y-auto",children:[Object(b.jsxs)("div",{className:"flex w-full items-center h-auto sticky top-0",children:[Object(b.jsx)(Kt,{placeholder:"Search by Location",onChange:function(e){h(e)},onSearchClick:function(){se()},containerClass:"flex-1 rounded",value:j}),Object(b.jsx)("div",{className:"md:ml-2 p-2 bg-white shadow rounded cursor-pointer text-blue-500 hover:bg-blue-500 hover:text-white transition duration-100",children:Object(b.jsx)(en.a,{className:"text-4xl ",onClick:ee})})]}),H==e&&Object(b.jsxs)("div",{className:"w-full",children:[Object(b.jsx)(ln,{diameter:k,days:q,topImages:M,heading:v,info:{totalPeople:P.length},handleViewPhotoClick:function(){W(t)},handleVisualizeClick:function(){c(!0)},handleMapShowClick:function(){c(!1)}}),Object(b.jsx)("div",{children:P.map((function(e){return Object(b.jsx)(gn,{body:e.brief_report,title:e.type,date:e.date,crimeType:e.type_description,place:e.reverse_geocoding_address})}))})]}),H==t&&P.length&&Object(b.jsxs)("div",{className:"mt-4",children:[Object(b.jsx)("button",{onClick:function(){W(e)},className:" text-blue-600 ",children:"\u2190 Back"}),Object(b.jsx)(on,{crimeList:P,handleImageClick:function(e){},containerClass:"mt-5",homelessMap:X})]})]}),Object(b.jsxs)("div",{className:a?"flex-1 md:min-h-screen shadow overflow-scroll":"flex-1 md:min-h-screen shadow overflow-hidden",children:[!a&&0!=z.length&&Object(b.jsx)(ye,{markers:z,region:[z[0].longitude,z[0].latitude],regionColor:"#ff000075",customPopup:In}),Object(b.jsx)("div",{className:" md:h-screen md:w-full ",children:a&&Object(b.jsx)(Rn,{data:P,columns:zn})})]}),Object(b.jsx)(un,{diameter:k,setDiameter:S,showModel:ee,hideModel:function(){V.current.style.display="none"},modelRef:V,onSelectFilter:function(e){return f(e)},days:q,setDays:Z})]})}var In=function(e){return'<div><img src="'.concat(e.media_url[0].url,'" width=300 class="mb-2"/><h3 class="font-bold">').concat(e.address,'</h3><h6 class="text-red-700 font-bold"">').concat(e.type,"</h6><small>").concat(e.type_description,"</small> </div>")},Gn=function(){return Object(b.jsx)(Le,{navbarSolid:!0,children:Object(b.jsxs)("div",{className:"max-w-6xl mx-auto md:px-4 px-7 pt-24 mb-10",children:[Object(b.jsx)("h2",{children:Object(b.jsx)("strong",{children:"Terms and Conditions"})}),Object(b.jsx)("p",{children:"Welcome to Aashroy!"}),Object(b.jsx)("p",{children:"These terms and conditions outline the rules and regulations for the use of Aurin's Website, located at aashroy.heroku.app."}),Object(b.jsx)("p",{children:"By accessing this website we assume you accept these terms and conditions. Do not continue to use Aashroy if you do not agree to take all of the terms and conditions stated on this page."}),Object(b.jsx)("p",{children:'The following terminology applies to these Terms and Conditions, Privacy Statement and Disclaimer Notice and all Agreements: "Client", "You" and "Your" refers to you, the person log on this website and compliant to the Company\u2019s terms and conditions. "The Company", "Ourselves", "We", "Our" and "Us", refers to our Company. "Party", "Parties", or "Us", refers to both the Client and ourselves. All terms refer to the offer, acceptance and consideration of payment necessary to undertake the process of our assistance to the Client in the most appropriate manner for the express purpose of meeting the Client\u2019s needs in respect of provision of the Company\u2019s stated services, in accordance with and subject to, prevailing law of Netherlands. Any use of the above terminology or other words in the singular, plural, capitalization and/or he/she or they, are taken as interchangeable and therefore as referring to same.'}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"Cookies"})}),Object(b.jsxs)("p",{children:["We employ the use of cookies. By accessing Aashroy, you agreed to use cookies in agreement with the Aurin's Privacy Policy."," "]}),Object(b.jsx)("p",{children:"Most interactive websites use cookies to let us retrieve the user\u2019s details for each visit. Cookies are used by our website to enable the functionality of certain areas to make it easier for people visiting our website. Some of our affiliate/advertising partners may also use cookies."}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"License"})}),Object(b.jsx)("p",{children:"Unless otherwise stated, Aurin and/or its licensors own the intellectual property rights for all material on Aashroy. All intellectual property rights are reserved. You may access this from Aashroy for your own personal use subjected to restrictions set in these terms and conditions."}),Object(b.jsx)("p",{children:"You must not:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Republish material from Aashroy"}),Object(b.jsx)("li",{children:"Sell, rent or sub-license material from Aashroy"}),Object(b.jsx)("li",{children:"Reproduce, duplicate or copy material from Aashroy"}),Object(b.jsx)("li",{children:"Redistribute content from Aashroy"})]}),Object(b.jsxs)("p",{children:["This Agreement shall begin on the date hereof. Our Terms and Conditions were created with the help of the"," ",Object(b.jsx)("a",{href:"https://www.termsandconditionsgenerator.com",children:"Terms And Conditions Generator"}),"."]}),Object(b.jsx)("p",{children:"Parts of this website offer an opportunity for users to post and exchange opinions and information in certain areas of the website. Aurin does not filter, edit, publish or review Comments prior to their presence on the website. Comments do not reflect the views and opinions of Aurin,its agents and/or affiliates. Comments reflect the views and opinions of the person who post their views and opinions. To the extent permitted by applicable laws, Aurin shall not be liable for the Comments or for any liability, damages or expenses caused and/or suffered as a result of any use of and/or posting of and/or appearance of the Comments on this website."}),Object(b.jsx)("p",{children:"Aurin reserves the right to monitor all Comments and to remove any Comments which can be considered inappropriate, offensive or causes breach of these Terms and Conditions."}),Object(b.jsx)("p",{children:"You warrant and represent that:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"You are entitled to post the Comments on our website and have all necessary licenses and consents to do so;"}),Object(b.jsx)("li",{children:"The Comments do not invade any intellectual property right, including without limitation copyright, patent or trademark of any third party;"}),Object(b.jsx)("li",{children:"The Comments do not contain any defamatory, libelous, offensive, indecent or otherwise unlawful material which is an invasion of privacy"}),Object(b.jsx)("li",{children:"The Comments will not be used to solicit or promote business or custom or present commercial activities or unlawful activity."})]}),Object(b.jsx)("p",{children:"You hereby grant Aurin a non-exclusive license to use, reproduce, edit and authorize others to use, reproduce and edit any of your Comments in any and all forms, formats or media."}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"Hyperlinking to our Content"})}),Object(b.jsx)("p",{children:"The following organizations may link to our Website without prior written approval:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Government agencies;"}),Object(b.jsx)("li",{children:"Search engines;"}),Object(b.jsx)("li",{children:"News organizations;"}),Object(b.jsx)("li",{children:"Online directory distributors may link to our Website in the same manner as they hyperlink to the Websites of other listed businesses; and"}),Object(b.jsx)("li",{children:"System wide Accredited Businesses except soliciting non-profit organizations, charity shopping malls, and charity fundraising groups which may not hyperlink to our Web site."})]}),Object(b.jsx)("p",{children:"These organizations may link to our home page, to publications or to other Website information so long as the link: (a) is not in any way deceptive; (b) does not falsely imply sponsorship, endorsement or approval of the linking party and its products and/or services; and (c) fits within the context of the linking party\u2019s site."}),Object(b.jsx)("p",{children:"We may consider and approve other link requests from the following types of organizations:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"commonly-known consumer and/or business information sources;"}),Object(b.jsx)("li",{children:"dot.com community sites;"}),Object(b.jsx)("li",{children:"associations or other groups representing charities;"}),Object(b.jsx)("li",{children:"online directory distributors;"}),Object(b.jsx)("li",{children:"internet portals;"}),Object(b.jsx)("li",{children:"accounting, law and consulting firms; and"}),Object(b.jsx)("li",{children:"educational institutions and trade associations."})]}),Object(b.jsx)("p",{children:"We will approve link requests from these organizations if we decide that: (a) the link would not make us look unfavorably to ourselves or to our accredited businesses; (b) the organization does not have any negative records with us; (c) the benefit to us from the visibility of the hyperlink compensates the absence of Aurin; and (d) the link is in the context of general resource information."}),Object(b.jsx)("p",{children:"These organizations may link to our home page so long as the link: (a) is not in any way deceptive; (b) does not falsely imply sponsorship, endorsement or approval of the linking party and its products or services; and (c) fits within the context of the linking party\u2019s site."}),Object(b.jsx)("p",{children:"If you are one of the organizations listed in paragraph 2 above and are interested in linking to our website, you must inform us by sending an e-mail to Aurin. Please include your name, your organization name, contact information as well as the URL of your site, a list of any URLs from which you intend to link to our Website, and a list of the URLs on our site to which you would like to link. Wait 2-3 weeks for a response."}),Object(b.jsx)("p",{children:"Approved organizations may hyperlink to our Website as follows:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"By use of our corporate name; or"}),Object(b.jsx)("li",{children:"By use of the uniform resource locator being linked to; or"}),Object(b.jsx)("li",{children:"By use of any other description of our Website being linked to that makes sense within the context and format of content on the linking party\u2019s site."})]}),Object(b.jsx)("p",{children:"No use of Aurin's logo or other artwork will be allowed for linking absent a trademark license agreement."}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"iFrames"})}),Object(b.jsx)("p",{children:"Without prior approval and written permission, you may not create frames around our Webpages that alter in any way the visual presentation or appearance of our Website."}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"Content Liability"})}),Object(b.jsx)("p",{children:"We shall not be hold responsible for any content that appears on your Website. You agree to protect and defend us against all claims that is rising on your Website. No link(s) should appear on any Website that may be interpreted as libelous, obscene or criminal, or which infringes, otherwise violates, or advocates the infringement or other violation of, any third party rights."}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"Your Privacy"})}),Object(b.jsx)("p",{children:"Please read Privacy Policy"}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"Reservation of Rights"})}),Object(b.jsx)("p",{children:"We reserve the right to request that you remove all links or any particular link to our Website. You approve to immediately remove all links to our Website upon request. We also reserve the right to amen these terms and conditions and it\u2019s linking policy at any time. By continuously linking to our Website, you agree to be bound to and follow these linking terms and conditions."}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"Removal of links from our website"})}),Object(b.jsx)("p",{children:"If you find any link on our Website that is offensive for any reason, you are free to contact and inform us any moment. We will consider requests to remove links but we are not obligated to or so or to respond to you directly."}),Object(b.jsx)("p",{children:"We do not ensure that the information on this website is correct, we do not warrant its completeness or accuracy; nor do we promise to ensure that the website remains available or that the material on the website is kept up to date."}),Object(b.jsx)("h3",{children:Object(b.jsx)("strong",{children:"Disclaimer"})}),Object(b.jsx)("p",{children:"To the maximum extent permitted by applicable law, we exclude all representations, warranties and conditions relating to our website and the use of this website. Nothing in this disclaimer will:"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"limit or exclude our or your liability for death or personal injury;"}),Object(b.jsx)("li",{children:"limit or exclude our or your liability for fraud or fraudulent misrepresentation;"}),Object(b.jsx)("li",{children:"limit any of our or your liabilities in any way that is not permitted under applicable law; or"}),Object(b.jsx)("li",{children:"exclude any of our or your liabilities that may not be excluded under applicable law."})]}),Object(b.jsx)("p",{children:"The limitations and prohibitions of liability set in this Section and elsewhere in this disclaimer: (a) are subject to the preceding paragraph; and (b) govern all liabilities arising under the disclaimer, including liabilities arising in contract, in tort and for breach of statutory duty."}),Object(b.jsx)("p",{children:"As long as the website and the information and services on the website are provided free of charge, we will not be liable for any loss or damage of any nature."})]})})},Hn=(n(347),function(){return Object(b.jsx)(Le,{navbarSolid:!0,children:Object(b.jsx)("div",{className:"",children:Object(b.jsx)("div",{id:"four-o-four",children:Object(b.jsx)("div",{className:"fof",children:Object(b.jsx)("h1",{children:"Error 404"})})})})})});function Wn(){return Object(b.jsxs)(l.a,{children:[Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{path:"/",exact:!0,component:Ct}),Object(b.jsx)(d.a,{path:"/terms-and-conditions",component:Gn}),Object(b.jsx)(d.a,{path:"/general/login",exact:!0,component:le}),Object(b.jsx)(d.a,{path:"/general/profile/:id",component:Je}),Object(b.jsx)(d.a,{path:"/ngo/registration",component:xt}),Object(b.jsx)(d.a,{path:"/report-crime",component:Fe}),Object(b.jsx)(d.a,{path:"/ngo/login",component:it}),Object(b.jsx)(d.a,{path:"/testing",component:dt}),Object(b.jsx)(d.a,{path:"/ngo/home",component:Dt}),Object(b.jsx)(d.a,{path:"/ngo/homeless",component:bn}),Object(b.jsx)(d.a,{path:"/ngo/crime",component:Ln}),Object(b.jsx)(d.a,{path:"/ngo/profile/:id",render:function(e){return Object(b.jsx)(Wt,Object(o.a)({},e))}}),Object(b.jsx)(d.a,{path:"/ngo/donations",component:Vt}),Object(b.jsx)(d.a,{path:"/about-us",component:vt}),Object(b.jsx)(d.a,{path:"/contact-us",component:Ft}),Object(b.jsx)(d.a,{path:"/public-contribution",exact:!0,component:We}),Object(b.jsx)(d.a,{path:"/ngo/list",component:$t}),Object(b.jsx)(d.a,{path:"/general",exact:!0,component:Z}),Object(b.jsx)(d.a,{path:"/general/report-homeless",exact:!0,component:ke}),Object(b.jsx)(d.a,{path:"/general/report-homeless/additional-info",exact:!0,component:Se}),Object(b.jsx)(d.a,{path:"/general/donate/:ngoId",exact:!0,component:De}),Object(b.jsx)(d.a,{component:Hn})]}),Object(b.jsx)(Bn,{})]})}console.warn=function(){},console.error=function(){};var Bn=function(){var e=Object(d.f)(),t=Object(s.useContext)(rt),n=Object(d.g)();return Object(s.useEffect)((function(){t.isLoggedIn?"/ngo/login"!=n.pathname&&"/ngo/registration"!=n.pathname||e.push("/ngo/home"):n.pathname}),[t.isLoggedIn]),Object(b.jsx)(b.Fragment,{})},Un=function(){var e=Object(s.useContext)(j);return Object(s.useEffect)((function(){null!=p()&&null!=O()&&e.setIsLoggedIn(!0)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(Wn,{}),Object(b.jsx)(i.a,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},Mn=(n(348),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Fn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Jn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,358)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(h,{children:Object(b.jsx)(at,{children:Object(b.jsx)(Un,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Mn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Fn(t,e)}))}}(),Jn()}},[[349,1,2]]]);
//# sourceMappingURL=main.ff05f78b.chunk.js.map